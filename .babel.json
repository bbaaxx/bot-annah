{
  "{\"filename\":\"/app/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./bot",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "wakeUpBot"
              }
            ]
          },
          {
            "source": "./servers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getServers"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/app.js",
      "filenameRelative": "/app/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _bot = require('./bot');\n\nvar _bot2 = _interopRequireDefault(_bot);\n\nvar _servers = require('./servers');\n\nvar _servers2 = _interopRequireDefault(_servers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _servers2.default)().then(_bot2.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJ0aGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVBLHlCQUFhQSxJQUFiIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdha2VVcEJvdCBmcm9tICcuL2JvdCc7XG5pbXBvcnQgZ2V0U2VydmVycyBmcm9tICcuL3NlcnZlcnMnO1xuXG5nZXRTZXJ2ZXJzKCkudGhlbih3YWtlVXBCb3QpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "then"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;;;AAEA,yBAAaA,IAAb",
      "file": "app.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "import wakeUpBot from './bot';\nimport getServers from './servers';\n\ngetServers().then(wakeUpBot);\n"
      ]
    },
    "mtime": 1523081080536
  },
  "{\"filename\":\"/app/bot/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "rxjs/Rx",
            "imported": [
              "pipe"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "pipe",
                "local": "pipe"
              }
            ]
          },
          {
            "source": "rxjs/observable/of",
            "imported": [
              "of"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "of",
                "local": "of"
              }
            ]
          },
          {
            "source": "rxjs/observable/merge",
            "imported": [
              "merge"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "merge",
                "local": "merge"
              }
            ]
          },
          {
            "source": "rxjs/operators",
            "imported": [
              "filter",
              "map",
              "mergeAll",
              "catchError"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "filter",
                "local": "filter"
              },
              {
                "kind": "named",
                "imported": "map",
                "local": "map"
              },
              {
                "kind": "named",
                "imported": "mergeAll",
                "local": "mergeAll"
              },
              {
                "kind": "named",
                "imported": "catchError",
                "local": "catchError"
              }
            ]
          },
          {
            "source": "./adapters/discordJs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getAdapter"
              }
            ]
          },
          {
            "source": "./messageContext",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getContextCreator"
              }
            ]
          },
          {
            "source": "./impulses",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "attemptToTrigerImpulse"
              }
            ]
          },
          {
            "source": "./filterMessages",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "filterMessages"
              }
            ]
          },
          {
            "source": "./nlp",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "asyncProcessWithNlp"
              }
            ]
          },
          {
            "source": "./skills",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "asyncAttemptSkillHandling"
              }
            ]
          },
          {
            "source": "./skills/conversation",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "conversationToContext"
              }
            ]
          },
          {
            "source": "./resolveReaction",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "asyncResolveReaction"
              }
            ]
          },
          {
            "source": "../servers/helpers/socketLogger",
            "imported": [
              "socketLogMiddleware"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "socketLogMiddleware",
                "local": "socketLogMiddleware"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/index.js",
      "filenameRelative": "/app/bot/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Rx = require('rxjs/Rx');\n\nvar _of = require('rxjs/observable/of');\n\nvar _merge = require('rxjs/observable/merge');\n\nvar _operators = require('rxjs/operators');\n\nvar _discordJs = require('./adapters/discordJs');\n\nvar _discordJs2 = _interopRequireDefault(_discordJs);\n\nvar _messageContext = require('./messageContext');\n\nvar _messageContext2 = _interopRequireDefault(_messageContext);\n\nvar _impulses = require('./impulses');\n\nvar _impulses2 = _interopRequireDefault(_impulses);\n\nvar _filterMessages = require('./filterMessages');\n\nvar _filterMessages2 = _interopRequireDefault(_filterMessages);\n\nvar _nlp = require('./nlp');\n\nvar _nlp2 = _interopRequireDefault(_nlp);\n\nvar _skills = require('./skills');\n\nvar _skills2 = _interopRequireDefault(_skills);\n\nvar _conversation = require('./skills/conversation');\n\nvar _conversation2 = _interopRequireDefault(_conversation);\n\nvar _resolveReaction = require('./resolveReaction');\n\nvar _resolveReaction2 = _interopRequireDefault(_resolveReaction);\n\nvar _socketLogger = require('../servers/helpers/socketLogger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst token = process.env.DISCORD_BOT_TOKEN;\nconst game = {\n  type: 'PLAYING',\n  name: 'with your mind'\n};\n\nexports.default = async function (servers) {\n  const adapter = (0, _discordJs2.default)();\n  const { inputs$, reactions$, commands$ } = adapter;\n  const createMessageContext = (0, _messageContext2.default)(servers, adapter);\n\n  const messagesPipeline = (0, _Rx.pipe)((0, _operators.filter)(i => i.type === 'incoming-message'), (0, _operators.map)(createMessageContext), (0, _operators.map)(_socketLogger.socketLogMiddleware), (0, _operators.map)(_impulses2.default), (0, _operators.map)(_conversation2.default), (0, _operators.map)(_filterMessages2.default),\n  // Go async ...\n  (0, _operators.map)(_nlp2.default), (0, _operators.map)(_skills2.default), (0, _operators.map)(_resolveReaction2.default),\n  // ... and flatten\n  (0, _operators.mergeAll)(), (0, _operators.catchError)(error => (0, _of.of)({ type: 'error', error })));\n\n  const eventsPipeline = (0, _Rx.pipe)((0, _operators.filter)(i => i.type !== 'incoming-message'), (0, _operators.catchError)(error => (0, _of.of)({ type: 'error', error })));\n\n  (0, _merge.merge)(inputs$.let(messagesPipeline), inputs$.let(eventsPipeline)).subscribe(reactions$);\n\n  commands$.next({ type: 'connect', token });\n\n  return { inputs$, reactions$ };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInRva2VuIiwicHJvY2VzcyIsImVudiIsIkRJU0NPUkRfQk9UX1RPS0VOIiwiZ2FtZSIsInR5cGUiLCJuYW1lIiwic2VydmVycyIsImFkYXB0ZXIiLCJpbnB1dHMkIiwicmVhY3Rpb25zJCIsImNvbW1hbmRzJCIsImNyZWF0ZU1lc3NhZ2VDb250ZXh0IiwibWVzc2FnZXNQaXBlbGluZSIsImkiLCJlcnJvciIsImV2ZW50c1BpcGVsaW5lIiwibGV0Iiwic3Vic2NyaWJlIiwibmV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBRUEsTUFBTUEsUUFBUUMsUUFBUUMsR0FBUixDQUFZQyxpQkFBMUI7QUFDQSxNQUFNQyxPQUFPO0FBQ1hDLFFBQU0sU0FESztBQUVYQyxRQUFNO0FBRkssQ0FBYjs7a0JBS2UsZ0JBQWVDLE9BQWYsRUFBd0I7QUFDckMsUUFBTUMsVUFBVSwwQkFBaEI7QUFDQSxRQUFNLEVBQUVDLE9BQUYsRUFBV0MsVUFBWCxFQUF1QkMsU0FBdkIsS0FBcUNILE9BQTNDO0FBQ0EsUUFBTUksdUJBQXVCLDhCQUFrQkwsT0FBbEIsRUFBMkJDLE9BQTNCLENBQTdCOztBQUVBLFFBQU1LLG1CQUFtQixjQUN2Qix1QkFBT0MsS0FBS0EsRUFBRVQsSUFBRixLQUFXLGtCQUF2QixDQUR1QixFQUd2QixvQkFBSU8sb0JBQUosQ0FIdUIsRUFJdkIsc0RBSnVCLEVBS3ZCLHVDQUx1QixFQU12QiwyQ0FOdUIsRUFPdkIsNkNBUHVCO0FBUXZCO0FBQ0Esb0NBVHVCLEVBVXZCLHFDQVZ1QixFQVd2Qiw4Q0FYdUI7QUFZdkI7QUFDQSw0QkFidUIsRUFldkIsMkJBQVdHLFNBQVMsWUFBRyxFQUFFVixNQUFNLE9BQVIsRUFBaUJVLEtBQWpCLEVBQUgsQ0FBcEIsQ0FmdUIsQ0FBekI7O0FBa0JBLFFBQU1DLGlCQUFpQixjQUNyQix1QkFBT0YsS0FBS0EsRUFBRVQsSUFBRixLQUFXLGtCQUF2QixDQURxQixFQUVyQiwyQkFBV1UsU0FBUyxZQUFHLEVBQUVWLE1BQU0sT0FBUixFQUFpQlUsS0FBakIsRUFBSCxDQUFwQixDQUZxQixDQUF2Qjs7QUFLQSxvQkFBTU4sUUFBUVEsR0FBUixDQUFZSixnQkFBWixDQUFOLEVBQXFDSixRQUFRUSxHQUFSLENBQVlELGNBQVosQ0FBckMsRUFBa0VFLFNBQWxFLENBQ0VSLFVBREY7O0FBSUFDLFlBQVVRLElBQVYsQ0FBZSxFQUFFZCxNQUFNLFNBQVIsRUFBbUJMLEtBQW5CLEVBQWY7O0FBRUEsU0FBTyxFQUFFUyxPQUFGLEVBQVdDLFVBQVgsRUFBUDtBQUNELEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwaXBlIH0gZnJvbSAncnhqcy9SeCc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9tZXJnZSc7XG5pbXBvcnQgeyBmaWx0ZXIsIG1hcCwgbWVyZ2VBbGwsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCBnZXRBZGFwdGVyIGZyb20gJy4vYWRhcHRlcnMvZGlzY29yZEpzJztcblxuaW1wb3J0IGdldENvbnRleHRDcmVhdG9yIGZyb20gJy4vbWVzc2FnZUNvbnRleHQnO1xuaW1wb3J0IGF0dGVtcHRUb1RyaWdlckltcHVsc2UgZnJvbSAnLi9pbXB1bHNlcyc7XG5pbXBvcnQgZmlsdGVyTWVzc2FnZXMgZnJvbSAnLi9maWx0ZXJNZXNzYWdlcyc7XG5pbXBvcnQgYXN5bmNQcm9jZXNzV2l0aE5scCBmcm9tICcuL25scCc7XG5pbXBvcnQgYXN5bmNBdHRlbXB0U2tpbGxIYW5kbGluZyBmcm9tICcuL3NraWxscyc7XG5pbXBvcnQgY29udmVyc2F0aW9uVG9Db250ZXh0IGZyb20gJy4vc2tpbGxzL2NvbnZlcnNhdGlvbic7XG5pbXBvcnQgYXN5bmNSZXNvbHZlUmVhY3Rpb24gZnJvbSAnLi9yZXNvbHZlUmVhY3Rpb24nO1xuXG5pbXBvcnQgeyBzb2NrZXRMb2dNaWRkbGV3YXJlIH0gZnJvbSAnLi4vc2VydmVycy9oZWxwZXJzL3NvY2tldExvZ2dlcic7XG5cbmNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuRElTQ09SRF9CT1RfVE9LRU47XG5jb25zdCBnYW1lID0ge1xuICB0eXBlOiAnUExBWUlORycsXG4gIG5hbWU6ICd3aXRoIHlvdXIgbWluZCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbihzZXJ2ZXJzKSB7XG4gIGNvbnN0IGFkYXB0ZXIgPSBnZXRBZGFwdGVyKCk7XG4gIGNvbnN0IHsgaW5wdXRzJCwgcmVhY3Rpb25zJCwgY29tbWFuZHMkIH0gPSBhZGFwdGVyO1xuICBjb25zdCBjcmVhdGVNZXNzYWdlQ29udGV4dCA9IGdldENvbnRleHRDcmVhdG9yKHNlcnZlcnMsIGFkYXB0ZXIpO1xuXG4gIGNvbnN0IG1lc3NhZ2VzUGlwZWxpbmUgPSBwaXBlKFxuICAgIGZpbHRlcihpID0+IGkudHlwZSA9PT0gJ2luY29taW5nLW1lc3NhZ2UnKSxcblxuICAgIG1hcChjcmVhdGVNZXNzYWdlQ29udGV4dCksXG4gICAgbWFwKHNvY2tldExvZ01pZGRsZXdhcmUpLFxuICAgIG1hcChhdHRlbXB0VG9UcmlnZXJJbXB1bHNlKSxcbiAgICBtYXAoY29udmVyc2F0aW9uVG9Db250ZXh0KSxcbiAgICBtYXAoZmlsdGVyTWVzc2FnZXMpLFxuICAgIC8vIEdvIGFzeW5jIC4uLlxuICAgIG1hcChhc3luY1Byb2Nlc3NXaXRoTmxwKSxcbiAgICBtYXAoYXN5bmNBdHRlbXB0U2tpbGxIYW5kbGluZyksXG4gICAgbWFwKGFzeW5jUmVzb2x2ZVJlYWN0aW9uKSxcbiAgICAvLyAuLi4gYW5kIGZsYXR0ZW5cbiAgICBtZXJnZUFsbCgpLFxuXG4gICAgY2F0Y2hFcnJvcihlcnJvciA9PiBvZih7IHR5cGU6ICdlcnJvcicsIGVycm9yIH0pKSxcbiAgKTtcblxuICBjb25zdCBldmVudHNQaXBlbGluZSA9IHBpcGUoXG4gICAgZmlsdGVyKGkgPT4gaS50eXBlICE9PSAnaW5jb21pbmctbWVzc2FnZScpLFxuICAgIGNhdGNoRXJyb3IoZXJyb3IgPT4gb2YoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KSksXG4gICk7XG5cbiAgbWVyZ2UoaW5wdXRzJC5sZXQobWVzc2FnZXNQaXBlbGluZSksIGlucHV0cyQubGV0KGV2ZW50c1BpcGVsaW5lKSkuc3Vic2NyaWJlKFxuICAgIHJlYWN0aW9ucyQsXG4gICk7XG5cbiAgY29tbWFuZHMkLm5leHQoeyB0eXBlOiAnY29ubmVjdCcsIHRva2VuIH0pO1xuXG4gIHJldHVybiB7IGlucHV0cyQsIHJlYWN0aW9ucyQgfTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "token",
        "process",
        "env",
        "DISCORD_BOT_TOKEN",
        "game",
        "type",
        "name",
        "servers",
        "adapter",
        "inputs$",
        "reactions$",
        "commands$",
        "createMessageContext",
        "messagesPipeline",
        "i",
        "error",
        "eventsPipeline",
        "let",
        "subscribe",
        "next"
      ],
      "mappings": ";;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA,MAAMA,QAAQC,QAAQC,GAAR,CAAYC,iBAA1B;AACA,MAAMC,OAAO;AACXC,QAAM,SADK;AAEXC,QAAM;AAFK,CAAb;;kBAKe,gBAAeC,OAAf,EAAwB;AACrC,QAAMC,UAAU,0BAAhB;AACA,QAAM,EAAEC,OAAF,EAAWC,UAAX,EAAuBC,SAAvB,KAAqCH,OAA3C;AACA,QAAMI,uBAAuB,8BAAkBL,OAAlB,EAA2BC,OAA3B,CAA7B;;AAEA,QAAMK,mBAAmB,cACvB,uBAAOC,KAAKA,EAAET,IAAF,KAAW,kBAAvB,CADuB,EAGvB,oBAAIO,oBAAJ,CAHuB,EAIvB,sDAJuB,EAKvB,uCALuB,EAMvB,2CANuB,EAOvB,6CAPuB;AAQvB;AACA,oCATuB,EAUvB,qCAVuB,EAWvB,8CAXuB;AAYvB;AACA,4BAbuB,EAevB,2BAAWG,SAAS,YAAG,EAAEV,MAAM,OAAR,EAAiBU,KAAjB,EAAH,CAApB,CAfuB,CAAzB;;AAkBA,QAAMC,iBAAiB,cACrB,uBAAOF,KAAKA,EAAET,IAAF,KAAW,kBAAvB,CADqB,EAErB,2BAAWU,SAAS,YAAG,EAAEV,MAAM,OAAR,EAAiBU,KAAjB,EAAH,CAApB,CAFqB,CAAvB;;AAKA,oBAAMN,QAAQQ,GAAR,CAAYJ,gBAAZ,CAAN,EAAqCJ,QAAQQ,GAAR,CAAYD,cAAZ,CAArC,EAAkEE,SAAlE,CACER,UADF;;AAIAC,YAAUQ,IAAV,CAAe,EAAEd,MAAM,SAAR,EAAmBL,KAAnB,EAAf;;AAEA,SAAO,EAAES,OAAF,EAAWC,UAAX,EAAP;AACD,C",
      "file": "index.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "import { pipe } from 'rxjs/Rx';\nimport { of } from 'rxjs/observable/of';\nimport { merge } from 'rxjs/observable/merge';\nimport { filter, map, mergeAll, catchError } from 'rxjs/operators';\n\nimport getAdapter from './adapters/discordJs';\n\nimport getContextCreator from './messageContext';\nimport attemptToTrigerImpulse from './impulses';\nimport filterMessages from './filterMessages';\nimport asyncProcessWithNlp from './nlp';\nimport asyncAttemptSkillHandling from './skills';\nimport conversationToContext from './skills/conversation';\nimport asyncResolveReaction from './resolveReaction';\n\nimport { socketLogMiddleware } from '../servers/helpers/socketLogger';\n\nconst token = process.env.DISCORD_BOT_TOKEN;\nconst game = {\n  type: 'PLAYING',\n  name: 'with your mind',\n};\n\nexport default async function(servers) {\n  const adapter = getAdapter();\n  const { inputs$, reactions$, commands$ } = adapter;\n  const createMessageContext = getContextCreator(servers, adapter);\n\n  const messagesPipeline = pipe(\n    filter(i => i.type === 'incoming-message'),\n\n    map(createMessageContext),\n    map(socketLogMiddleware),\n    map(attemptToTrigerImpulse),\n    map(conversationToContext),\n    map(filterMessages),\n    // Go async ...\n    map(asyncProcessWithNlp),\n    map(asyncAttemptSkillHandling),\n    map(asyncResolveReaction),\n    // ... and flatten\n    mergeAll(),\n\n    catchError(error => of({ type: 'error', error })),\n  );\n\n  const eventsPipeline = pipe(\n    filter(i => i.type !== 'incoming-message'),\n    catchError(error => of({ type: 'error', error })),\n  );\n\n  merge(inputs$.let(messagesPipeline), inputs$.let(eventsPipeline)).subscribe(\n    reactions$,\n  );\n\n  commands$.next({ type: 'connect', token });\n\n  return { inputs$, reactions$ };\n}\n"
      ]
    },
    "mtime": 1523892670756
  },
  "{\"filename\":\"/app/bot/filterMessages.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "ctx"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ctx",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/filterMessages.js",
      "filenameRelative": "/app/bot/filterMessages.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "filterMessages.js",
      "sourceFileName": "filterMessages.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "filterMessages"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (ctx) {\n  if (ctx.handled) return ctx;\n  const { input, conversation } = ctx;\n\n  const activeConversation = Boolean(conversation && conversation.isActive);\n  const iWasMentioned = botNameRegExp.test(String(input.content).toLowerCase());\n\n  const shouldAttend = iWasMentioned || activeConversation;\n\n  const type = shouldAttend ? 'process-message' : 'ignore';\n\n  return _extends({}, ctx, { type, handled: !shouldAttend });\n};\n\nconst botNameRegExp = new RegExp(process.env.BOT_NAME_REGEXP || 'bot', 'i');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlck1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbImN0eCIsImhhbmRsZWQiLCJpbnB1dCIsImNvbnZlcnNhdGlvbiIsImFjdGl2ZUNvbnZlcnNhdGlvbiIsIkJvb2xlYW4iLCJpc0FjdGl2ZSIsImlXYXNNZW50aW9uZWQiLCJib3ROYW1lUmVnRXhwIiwidGVzdCIsIlN0cmluZyIsImNvbnRlbnQiLCJ0b0xvd2VyQ2FzZSIsInNob3VsZEF0dGVuZCIsInR5cGUiLCJSZWdFeHAiLCJwcm9jZXNzIiwiZW52IiwiQk9UX05BTUVfUkVHRVhQIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztrQkFFZSxVQUFTQSxHQUFULEVBQWM7QUFDM0IsTUFBSUEsSUFBSUMsT0FBUixFQUFpQixPQUFPRCxHQUFQO0FBQ2pCLFFBQU0sRUFBRUUsS0FBRixFQUFTQyxZQUFULEtBQTBCSCxHQUFoQzs7QUFFQSxRQUFNSSxxQkFBcUJDLFFBQVFGLGdCQUFnQkEsYUFBYUcsUUFBckMsQ0FBM0I7QUFDQSxRQUFNQyxnQkFBZ0JDLGNBQWNDLElBQWQsQ0FBbUJDLE9BQU9SLE1BQU1TLE9BQWIsRUFBc0JDLFdBQXRCLEVBQW5CLENBQXRCOztBQUVBLFFBQU1DLGVBQWVOLGlCQUFpQkgsa0JBQXRDOztBQUVBLFFBQU1VLE9BQU9ELGVBQWUsaUJBQWYsR0FBbUMsUUFBaEQ7O0FBRUEsc0JBQVliLEdBQVosSUFBaUJjLElBQWpCLEVBQXVCYixTQUFTLENBQUNZLFlBQWpDO0FBQ0QsQzs7QUFkRCxNQUFNTCxnQkFBZ0IsSUFBSU8sTUFBSixDQUFXQyxRQUFRQyxHQUFSLENBQVlDLGVBQVosSUFBK0IsS0FBMUMsRUFBaUQsR0FBakQsQ0FBdEIiLCJmaWxlIjoiZmlsdGVyTWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBib3ROYW1lUmVnRXhwID0gbmV3IFJlZ0V4cChwcm9jZXNzLmVudi5CT1RfTkFNRV9SRUdFWFAgfHwgJ2JvdCcsICdpJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGN0eCkge1xuICBpZiAoY3R4LmhhbmRsZWQpIHJldHVybiBjdHg7XG4gIGNvbnN0IHsgaW5wdXQsIGNvbnZlcnNhdGlvbiB9ID0gY3R4O1xuXG4gIGNvbnN0IGFjdGl2ZUNvbnZlcnNhdGlvbiA9IEJvb2xlYW4oY29udmVyc2F0aW9uICYmIGNvbnZlcnNhdGlvbi5pc0FjdGl2ZSk7XG4gIGNvbnN0IGlXYXNNZW50aW9uZWQgPSBib3ROYW1lUmVnRXhwLnRlc3QoU3RyaW5nKGlucHV0LmNvbnRlbnQpLnRvTG93ZXJDYXNlKCkpO1xuXG4gIGNvbnN0IHNob3VsZEF0dGVuZCA9IGlXYXNNZW50aW9uZWQgfHwgYWN0aXZlQ29udmVyc2F0aW9uO1xuXG4gIGNvbnN0IHR5cGUgPSBzaG91bGRBdHRlbmQgPyAncHJvY2Vzcy1tZXNzYWdlJyA6ICdpZ25vcmUnO1xuXG4gIHJldHVybiB7IC4uLmN0eCwgdHlwZSwgaGFuZGxlZDogIXNob3VsZEF0dGVuZCB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "filterMessages.js"
      ],
      "names": [
        "ctx",
        "handled",
        "input",
        "conversation",
        "activeConversation",
        "Boolean",
        "isActive",
        "iWasMentioned",
        "botNameRegExp",
        "test",
        "String",
        "content",
        "toLowerCase",
        "shouldAttend",
        "type",
        "RegExp",
        "process",
        "env",
        "BOT_NAME_REGEXP"
      ],
      "mappings": ";;;;;;;;kBAEe,UAASA,GAAT,EAAc;AAC3B,MAAIA,IAAIC,OAAR,EAAiB,OAAOD,GAAP;AACjB,QAAM,EAAEE,KAAF,EAASC,YAAT,KAA0BH,GAAhC;;AAEA,QAAMI,qBAAqBC,QAAQF,gBAAgBA,aAAaG,QAArC,CAA3B;AACA,QAAMC,gBAAgBC,cAAcC,IAAd,CAAmBC,OAAOR,MAAMS,OAAb,EAAsBC,WAAtB,EAAnB,CAAtB;;AAEA,QAAMC,eAAeN,iBAAiBH,kBAAtC;;AAEA,QAAMU,OAAOD,eAAe,iBAAf,GAAmC,QAAhD;;AAEA,sBAAYb,GAAZ,IAAiBc,IAAjB,EAAuBb,SAAS,CAACY,YAAjC;AACD,C;;AAdD,MAAML,gBAAgB,IAAIO,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,eAAZ,IAA+B,KAA1C,EAAiD,GAAjD,CAAtB",
      "file": "filterMessages.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "const botNameRegExp = new RegExp(process.env.BOT_NAME_REGEXP || 'bot', 'i');\n\nexport default function(ctx) {\n  if (ctx.handled) return ctx;\n  const { input, conversation } = ctx;\n\n  const activeConversation = Boolean(conversation && conversation.isActive);\n  const iWasMentioned = botNameRegExp.test(String(input.content).toLowerCase());\n\n  const shouldAttend = iWasMentioned || activeConversation;\n\n  const type = shouldAttend ? 'process-message' : 'ignore';\n\n  return { ...ctx, type, handled: !shouldAttend };\n}\n"
      ]
    },
    "mtime": 1523080976074
  },
  "{\"filename\":\"/app/bot/impulses/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/impulses\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./staticReplies",
            "imported": [
              "checkForStaticReply",
              "getStaticReply"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "checkForStaticReply",
                "local": "checkForStaticReply"
              },
              {
                "kind": "named",
                "imported": "getStaticReply",
                "local": "getStaticReply"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ctx"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ctx",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/impulses/index.js",
      "filenameRelative": "/app/bot/impulses/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/impulses",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/impulses",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (ctx) {\n  if (ctx.resolved()) return ctx;\n  const content = ctx.getMessageContent();\n\n  const iHaveAnImpulseReply = (0, _staticReplies.checkForStaticReply)(content);\n  const reaction = iHaveAnImpulseReply ? (0, _staticReplies.getStaticReply)(content) : ctx.reaction;\n\n  if ((0, _staticReplies.checkForStaticReply)(content)) ctx.resolve((0, _staticReplies.getStaticReply)(content));\n\n  return _extends({}, ctx, { handled: iHaveAnImpulseReply, reaction });\n};\n\nvar _staticReplies = require('./staticReplies');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImN0eCIsInJlc29sdmVkIiwiY29udGVudCIsImdldE1lc3NhZ2VDb250ZW50IiwiaUhhdmVBbkltcHVsc2VSZXBseSIsInJlYWN0aW9uIiwicmVzb2x2ZSIsImhhbmRsZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2tCQUVlLFVBQVNBLEdBQVQsRUFBYztBQUMzQixNQUFJQSxJQUFJQyxRQUFKLEVBQUosRUFBb0IsT0FBT0QsR0FBUDtBQUNwQixRQUFNRSxVQUFVRixJQUFJRyxpQkFBSixFQUFoQjs7QUFFQSxRQUFNQyxzQkFBc0Isd0NBQW9CRixPQUFwQixDQUE1QjtBQUNBLFFBQU1HLFdBQVdELHNCQUFzQixtQ0FBZUYsT0FBZixDQUF0QixHQUFnREYsSUFBSUssUUFBckU7O0FBRUEsTUFBSSx3Q0FBb0JILE9BQXBCLENBQUosRUFBa0NGLElBQUlNLE9BQUosQ0FBWSxtQ0FBZUosT0FBZixDQUFaOztBQUVsQyxzQkFBWUYsR0FBWixJQUFpQk8sU0FBU0gsbUJBQTFCLEVBQStDQyxRQUEvQztBQUNELEM7O0FBWkQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QvaW1wdWxzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja0ZvclN0YXRpY1JlcGx5LCBnZXRTdGF0aWNSZXBseSB9IGZyb20gJy4vc3RhdGljUmVwbGllcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGN0eCkge1xuICBpZiAoY3R4LnJlc29sdmVkKCkpIHJldHVybiBjdHg7XG4gIGNvbnN0IGNvbnRlbnQgPSBjdHguZ2V0TWVzc2FnZUNvbnRlbnQoKTtcbiAgXG4gIGNvbnN0IGlIYXZlQW5JbXB1bHNlUmVwbHkgPSBjaGVja0ZvclN0YXRpY1JlcGx5KGNvbnRlbnQpO1xuICBjb25zdCByZWFjdGlvbiA9IGlIYXZlQW5JbXB1bHNlUmVwbHkgPyBnZXRTdGF0aWNSZXBseShjb250ZW50KSA6IGN0eC5yZWFjdGlvbjtcbiAgXG4gIGlmIChjaGVja0ZvclN0YXRpY1JlcGx5KGNvbnRlbnQpKSBjdHgucmVzb2x2ZShnZXRTdGF0aWNSZXBseShjb250ZW50KSk7XG4gIFxuICByZXR1cm4geyAuLi5jdHgsIGhhbmRsZWQ6IGlIYXZlQW5JbXB1bHNlUmVwbHksIHJlYWN0aW9uIH07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "ctx",
        "resolved",
        "content",
        "getMessageContent",
        "iHaveAnImpulseReply",
        "reaction",
        "resolve",
        "handled"
      ],
      "mappings": ";;;;;;;;kBAEe,UAASA,GAAT,EAAc;AAC3B,MAAIA,IAAIC,QAAJ,EAAJ,EAAoB,OAAOD,GAAP;AACpB,QAAME,UAAUF,IAAIG,iBAAJ,EAAhB;;AAEA,QAAMC,sBAAsB,wCAAoBF,OAApB,CAA5B;AACA,QAAMG,WAAWD,sBAAsB,mCAAeF,OAAf,CAAtB,GAAgDF,IAAIK,QAArE;;AAEA,MAAI,wCAAoBH,OAApB,CAAJ,EAAkCF,IAAIM,OAAJ,CAAY,mCAAeJ,OAAf,CAAZ;;AAElC,sBAAYF,GAAZ,IAAiBO,SAASH,mBAA1B,EAA+CC,QAA/C;AACD,C;;AAZD",
      "file": "index.js",
      "sourceRoot": "/app/bot/impulses",
      "sourcesContent": [
        "import { checkForStaticReply, getStaticReply } from './staticReplies';\n\nexport default function(ctx) {\n  if (ctx.resolved()) return ctx;\n  const content = ctx.getMessageContent();\n  \n  const iHaveAnImpulseReply = checkForStaticReply(content);\n  const reaction = iHaveAnImpulseReply ? getStaticReply(content) : ctx.reaction;\n  \n  if (checkForStaticReply(content)) ctx.resolve(getStaticReply(content));\n  \n  return { ...ctx, handled: iHaveAnImpulseReply, reaction };\n}\n"
      ]
    },
    "mtime": 1523140089072
  },
  "{\"filename\":\"/app/bot/impulses/staticReplies.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/impulses\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault",
        "interopRequireWildcard"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../actions",
            "imported": [
              "basicTextReply",
              "basicEmbedReply",
              "randomBasicFromArray"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "basicTextReply",
                "local": "basicTextReply"
              },
              {
                "kind": "named",
                "imported": "basicEmbedReply",
                "local": "basicEmbedReply"
              },
              {
                "kind": "named",
                "imported": "randomBasicFromArray",
                "local": "pickFrom"
              }
            ]
          },
          {
            "source": "./data/replyDb.json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "replyStock"
              }
            ]
          },
          {
            "source": "./data/embedBase.json",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "embed"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "checkForStaticReply",
            "getStaticReply"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "checkForStaticReply",
              "exported": "checkForStaticReply"
            },
            {
              "kind": "local",
              "local": "getStaticReply",
              "exported": "getStaticReply"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/impulses/staticReplies.js",
      "filenameRelative": "/app/bot/impulses/staticReplies.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "staticReplies.js",
      "sourceFileName": "staticReplies.js",
      "sourceRoot": "/app/bot/impulses",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/impulses",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "staticReplies"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStaticReply = exports.checkForStaticReply = undefined;\n\nvar _actions = require('../actions');\n\nvar _replyDb = require('./data/replyDb.json');\n\nvar _replyDb2 = _interopRequireDefault(_replyDb);\n\nvar _embedBase = require('./data/embedBase.json');\n\nvar embed = _interopRequireWildcard(_embedBase);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst xToLower = x => String(x).toLowerCase(); // Esta funcion convierte nuestro texto en un objeto con nuestra respuesta y otros\n// datos utiles\n\nconst replies = new Map(_replyDb2.default); //eslint-disable-line\n\nconst replyThis = _actions.basicTextReply;\n\nconst checkForStaticReply = exports.checkForStaticReply = content => replies.has(xToLower(content));\n\n// Esta es la funcion que exportamos y se lee mas o menos asi:\n// Si el 'content' es igual a 'ping' entonces respondeEsto('pong')\n// fijate que solo la primera linea despues del 'export' no tiene\n// los dos puntos ' : ', cuando agregues mas lineas no olvides respetar esto.\nconst getStaticReply = exports.getStaticReply = content => {\n  const reply = replies.get(xToLower(content));\n  return reply && Array.isArray(reply) ? (0, _actions.randomBasicFromArray)(reply) : replyThis(reply);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRpY1JlcGxpZXMuanMiXSwibmFtZXMiOlsiZW1iZWQiLCJ4VG9Mb3dlciIsIngiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsInJlcGxpZXMiLCJNYXAiLCJyZXBseVRoaXMiLCJjaGVja0ZvclN0YXRpY1JlcGx5IiwiY29udGVudCIsImhhcyIsImdldFN0YXRpY1JlcGx5IiwicmVwbHkiLCJnZXQiLCJBcnJheSIsImlzQXJyYXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7QUFNQTs7OztBQUNBOztJQUFZQSxLOzs7Ozs7QUFFWixNQUFNQyxXQUFXQyxLQUFLQyxPQUFPRCxDQUFQLEVBQVVFLFdBQVYsRUFBdEIsQyxDQVhBO0FBQ0E7O0FBV0EsTUFBTUMsVUFBVSxJQUFJQyxHQUFKLG1CQUFoQixDLENBQXFDOztBQUVyQyxNQUFNQyxtQ0FBTjs7QUFFTyxNQUFNQyxvREFBc0JDLFdBQVdKLFFBQVFLLEdBQVIsQ0FBWVQsU0FBU1EsT0FBVCxDQUFaLENBQXZDOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUUsMENBQWlCRixXQUFXO0FBQ3ZDLFFBQU1HLFFBQVFQLFFBQVFRLEdBQVIsQ0FBWVosU0FBU1EsT0FBVCxDQUFaLENBQWQ7QUFDQSxTQUFPRyxTQUFTRSxNQUFNQyxPQUFOLENBQWNILEtBQWQsQ0FBVCxHQUFnQyxtQ0FBU0EsS0FBVCxDQUFoQyxHQUFrREwsVUFBVUssS0FBVixDQUF6RDtBQUNELENBSE0iLCJmaWxlIjoic3RhdGljUmVwbGllcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9pbXB1bHNlcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEVzdGEgZnVuY2lvbiBjb252aWVydGUgbnVlc3RybyB0ZXh0byBlbiB1biBvYmpldG8gY29uIG51ZXN0cmEgcmVzcHVlc3RhIHkgb3Ryb3Ncbi8vIGRhdG9zIHV0aWxlc1xuaW1wb3J0IHtcbiAgYmFzaWNUZXh0UmVwbHksXG4gIGJhc2ljRW1iZWRSZXBseSxcbiAgcmFuZG9tQmFzaWNGcm9tQXJyYXkgYXMgcGlja0Zyb20sXG59IGZyb20gJy4uL2FjdGlvbnMnO1xuXG5pbXBvcnQgcmVwbHlTdG9jayBmcm9tICcuL2RhdGEvcmVwbHlEYi5qc29uJztcbmltcG9ydCAqIGFzIGVtYmVkIGZyb20gJy4vZGF0YS9lbWJlZEJhc2UuanNvbic7XG5cbmNvbnN0IHhUb0xvd2VyID0geCA9PiBTdHJpbmcoeCkudG9Mb3dlckNhc2UoKTtcbmNvbnN0IHJlcGxpZXMgPSBuZXcgTWFwKHJlcGx5U3RvY2spOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcblxuY29uc3QgcmVwbHlUaGlzID0gYmFzaWNUZXh0UmVwbHk7XG5cbmV4cG9ydCBjb25zdCBjaGVja0ZvclN0YXRpY1JlcGx5ID0gY29udGVudCA9PiByZXBsaWVzLmhhcyh4VG9Mb3dlcihjb250ZW50KSk7XG5cbi8vIEVzdGEgZXMgbGEgZnVuY2lvbiBxdWUgZXhwb3J0YW1vcyB5IHNlIGxlZSBtYXMgbyBtZW5vcyBhc2k6XG4vLyBTaSBlbCAnY29udGVudCcgZXMgaWd1YWwgYSAncGluZycgZW50b25jZXMgcmVzcG9uZGVFc3RvKCdwb25nJylcbi8vIGZpamF0ZSBxdWUgc29sbyBsYSBwcmltZXJhIGxpbmVhIGRlc3B1ZXMgZGVsICdleHBvcnQnIG5vIHRpZW5lXG4vLyBsb3MgZG9zIHB1bnRvcyAnIDogJywgY3VhbmRvIGFncmVndWVzIG1hcyBsaW5lYXMgbm8gb2x2aWRlcyByZXNwZXRhciBlc3RvLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1JlcGx5ID0gY29udGVudCA9PiB7XG4gIGNvbnN0IHJlcGx5ID0gcmVwbGllcy5nZXQoeFRvTG93ZXIoY29udGVudCkpO1xuICByZXR1cm4gcmVwbHkgJiYgQXJyYXkuaXNBcnJheShyZXBseSkgPyBwaWNrRnJvbShyZXBseSkgOiByZXBseVRoaXMocmVwbHkpO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "staticReplies.js"
      ],
      "names": [
        "embed",
        "xToLower",
        "x",
        "String",
        "toLowerCase",
        "replies",
        "Map",
        "replyThis",
        "checkForStaticReply",
        "content",
        "has",
        "getStaticReply",
        "reply",
        "get",
        "Array",
        "isArray"
      ],
      "mappings": ";;;;;;;AAEA;;AAMA;;;;AACA;;IAAYA,K;;;;;;AAEZ,MAAMC,WAAWC,KAAKC,OAAOD,CAAP,EAAUE,WAAV,EAAtB,C,CAXA;AACA;;AAWA,MAAMC,UAAU,IAAIC,GAAJ,mBAAhB,C,CAAqC;;AAErC,MAAMC,mCAAN;;AAEO,MAAMC,oDAAsBC,WAAWJ,QAAQK,GAAR,CAAYT,SAASQ,OAAT,CAAZ,CAAvC;;AAEP;AACA;AACA;AACA;AACO,MAAME,0CAAiBF,WAAW;AACvC,QAAMG,QAAQP,QAAQQ,GAAR,CAAYZ,SAASQ,OAAT,CAAZ,CAAd;AACA,SAAOG,SAASE,MAAMC,OAAN,CAAcH,KAAd,CAAT,GAAgC,mCAASA,KAAT,CAAhC,GAAkDL,UAAUK,KAAV,CAAzD;AACD,CAHM",
      "file": "staticReplies.js",
      "sourceRoot": "/app/bot/impulses",
      "sourcesContent": [
        "// Esta funcion convierte nuestro texto en un objeto con nuestra respuesta y otros\n// datos utiles\nimport {\n  basicTextReply,\n  basicEmbedReply,\n  randomBasicFromArray as pickFrom,\n} from '../actions';\n\nimport replyStock from './data/replyDb.json';\nimport * as embed from './data/embedBase.json';\n\nconst xToLower = x => String(x).toLowerCase();\nconst replies = new Map(replyStock); //eslint-disable-line\n\nconst replyThis = basicTextReply;\n\nexport const checkForStaticReply = content => replies.has(xToLower(content));\n\n// Esta es la funcion que exportamos y se lee mas o menos asi:\n// Si el 'content' es igual a 'ping' entonces respondeEsto('pong')\n// fijate que solo la primera linea despues del 'export' no tiene\n// los dos puntos ' : ', cuando agregues mas lineas no olvides respetar esto.\nexport const getStaticReply = content => {\n  const reply = replies.get(xToLower(content));\n  return reply && Array.isArray(reply) ? pickFrom(reply) : replyThis(reply);\n};\n"
      ]
    },
    "mtime": 1523140004915
  },
  "{\"filename\":\"/app/bot/actions.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "basicTextReply",
            "basicEmbedReply",
            "basicRichContentReply",
            "randomBasicFromArray"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "basicTextReply",
              "exported": "basicTextReply"
            },
            {
              "kind": "local",
              "local": "basicEmbedReply",
              "exported": "basicEmbedReply"
            },
            {
              "kind": "local",
              "local": "basicRichContentReply",
              "exported": "basicRichContentReply"
            },
            {
              "kind": "local",
              "local": "randomBasicFromArray",
              "exported": "randomBasicFromArray"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/actions.js",
      "filenameRelative": "/app/bot/actions.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "actions.js",
      "sourceFileName": "actions.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "actions"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst basicTextReply = exports.basicTextReply = text => ({\n  type: text && text !== '' ? 'message-reply' : 'ignore',\n  message: { contentType: 'text', content: text }\n});\n\nconst basicEmbedReply = exports.basicEmbedReply = embed => ({\n  type: embed ? 'message-reply' : 'ignore',\n  message: { contentType: 'embed', content: embed }\n});\n\nconst basicRichContentReply = exports.basicRichContentReply = content => ({\n  type: content ? 'message-reply' : 'ignore',\n  message: { contentType: 'rich-content', content }\n});\n\nconst randomBasicFromArray = exports.randomBasicFromArray = replies => basicTextReply(replies[Math.floor(Math.random() * replies.length)]);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGlvbnMuanMiXSwibmFtZXMiOlsiYmFzaWNUZXh0UmVwbHkiLCJ0ZXh0IiwidHlwZSIsIm1lc3NhZ2UiLCJjb250ZW50VHlwZSIsImNvbnRlbnQiLCJiYXNpY0VtYmVkUmVwbHkiLCJlbWJlZCIsImJhc2ljUmljaENvbnRlbnRSZXBseSIsInJhbmRvbUJhc2ljRnJvbUFycmF5IiwicmVwbGllcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNQSwwQ0FBaUJDLFNBQVM7QUFDckNDLFFBQU1ELFFBQVFBLFNBQVMsRUFBakIsR0FBc0IsZUFBdEIsR0FBd0MsUUFEVDtBQUVyQ0UsV0FBUyxFQUFFQyxhQUFhLE1BQWYsRUFBdUJDLFNBQVNKLElBQWhDO0FBRjRCLENBQVQsQ0FBdkI7O0FBS0EsTUFBTUssNENBQWtCQyxVQUFVO0FBQ3ZDTCxRQUFNSyxRQUFRLGVBQVIsR0FBMEIsUUFETztBQUV2Q0osV0FBUyxFQUFFQyxhQUFhLE9BQWYsRUFBd0JDLFNBQVNFLEtBQWpDO0FBRjhCLENBQVYsQ0FBeEI7O0FBS0EsTUFBTUMsd0RBQXdCSCxZQUFZO0FBQy9DSCxRQUFNRyxVQUFVLGVBQVYsR0FBNEIsUUFEYTtBQUUvQ0YsV0FBUyxFQUFFQyxhQUFhLGNBQWYsRUFBK0JDLE9BQS9CO0FBRnNDLENBQVosQ0FBOUI7O0FBS0EsTUFBTUksc0RBQXVCQyxXQUNsQ1YsZUFBZVUsUUFBUUMsS0FBS0MsS0FBTCxDQUFXRCxLQUFLRSxNQUFMLEtBQWdCSCxRQUFRSSxNQUFuQyxDQUFSLENBQWYsQ0FESyIsImZpbGUiOiJhY3Rpb25zLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYm90Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGJhc2ljVGV4dFJlcGx5ID0gdGV4dCA9PiAoe1xuICB0eXBlOiB0ZXh0ICYmIHRleHQgIT09ICcnID8gJ21lc3NhZ2UtcmVwbHknIDogJ2lnbm9yZScsXG4gIG1lc3NhZ2U6IHsgY29udGVudFR5cGU6ICd0ZXh0JywgY29udGVudDogdGV4dCB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBiYXNpY0VtYmVkUmVwbHkgPSBlbWJlZCA9PiAoe1xuICB0eXBlOiBlbWJlZCA/ICdtZXNzYWdlLXJlcGx5JyA6ICdpZ25vcmUnLFxuICBtZXNzYWdlOiB7IGNvbnRlbnRUeXBlOiAnZW1iZWQnLCBjb250ZW50OiBlbWJlZCB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBiYXNpY1JpY2hDb250ZW50UmVwbHkgPSBjb250ZW50ID0+ICh7XG4gIHR5cGU6IGNvbnRlbnQgPyAnbWVzc2FnZS1yZXBseScgOiAnaWdub3JlJyxcbiAgbWVzc2FnZTogeyBjb250ZW50VHlwZTogJ3JpY2gtY29udGVudCcsIGNvbnRlbnQgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tQmFzaWNGcm9tQXJyYXkgPSByZXBsaWVzID0+XG4gIGJhc2ljVGV4dFJlcGx5KHJlcGxpZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmVwbGllcy5sZW5ndGgpXSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "actions.js"
      ],
      "names": [
        "basicTextReply",
        "text",
        "type",
        "message",
        "contentType",
        "content",
        "basicEmbedReply",
        "embed",
        "basicRichContentReply",
        "randomBasicFromArray",
        "replies",
        "Math",
        "floor",
        "random",
        "length"
      ],
      "mappings": ";;;;;AAAO,MAAMA,0CAAiBC,SAAS;AACrCC,QAAMD,QAAQA,SAAS,EAAjB,GAAsB,eAAtB,GAAwC,QADT;AAErCE,WAAS,EAAEC,aAAa,MAAf,EAAuBC,SAASJ,IAAhC;AAF4B,CAAT,CAAvB;;AAKA,MAAMK,4CAAkBC,UAAU;AACvCL,QAAMK,QAAQ,eAAR,GAA0B,QADO;AAEvCJ,WAAS,EAAEC,aAAa,OAAf,EAAwBC,SAASE,KAAjC;AAF8B,CAAV,CAAxB;;AAKA,MAAMC,wDAAwBH,YAAY;AAC/CH,QAAMG,UAAU,eAAV,GAA4B,QADa;AAE/CF,WAAS,EAAEC,aAAa,cAAf,EAA+BC,OAA/B;AAFsC,CAAZ,CAA9B;;AAKA,MAAMI,sDAAuBC,WAClCV,eAAeU,QAAQC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBH,QAAQI,MAAnC,CAAR,CAAf,CADK",
      "file": "actions.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "export const basicTextReply = text => ({\n  type: text && text !== '' ? 'message-reply' : 'ignore',\n  message: { contentType: 'text', content: text },\n});\n\nexport const basicEmbedReply = embed => ({\n  type: embed ? 'message-reply' : 'ignore',\n  message: { contentType: 'embed', content: embed },\n});\n\nexport const basicRichContentReply = content => ({\n  type: content ? 'message-reply' : 'ignore',\n  message: { contentType: 'rich-content', content },\n});\n\nexport const randomBasicFromArray = replies =>\n  basicTextReply(replies[Math.floor(Math.random() * replies.length)]);\n"
      ]
    },
    "mtime": 1523080955366
  },
  "{\"filename\":\"/app/bot/skills/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./lolstats",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lolstats"
              }
            ]
          },
          {
            "source": "./global",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "global"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/index.js",
      "filenameRelative": "/app/bot/skills/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/skills",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _lolstats = require('./lolstats');\n\nvar _lolstats2 = _interopRequireDefault(_lolstats);\n\nvar _global = require('./global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst skillset = {\n  global: _global2.default,\n  lolstats: _lolstats2.default\n};\n\nconst skillFinder = intent => {\n  const [namespace, skill] = intent.split('.');\n  const domain = skillset[namespace];\n  return typeof domain === 'object' ? domain[skill] : void 0;\n};\n\nexports.default = async function (_ctx) {\n  const ctx = await _ctx;\n  if (ctx.resolved()) return ctx;\n  const { nlp } = ctx;\n  const { action } = nlp;\n  const skill = action && action !== '' && skillFinder(action);\n  if (skill) ctx.resolve((await skill(ctx)));\n  return ctx;\n  return skill ? _extends({}, ctx, { reaction: await skill(ctx) }) : ctx;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInNraWxsc2V0IiwiZ2xvYmFsIiwibG9sc3RhdHMiLCJza2lsbEZpbmRlciIsImludGVudCIsIm5hbWVzcGFjZSIsInNraWxsIiwic3BsaXQiLCJkb21haW4iLCJfY3R4IiwiY3R4IiwicmVzb2x2ZWQiLCJubHAiLCJhY3Rpb24iLCJyZXNvbHZlIiwicmVhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsV0FBVztBQUNmQywwQkFEZTtBQUVmQztBQUZlLENBQWpCOztBQUtBLE1BQU1DLGNBQWNDLFVBQVU7QUFDNUIsUUFBTSxDQUFDQyxTQUFELEVBQVlDLEtBQVosSUFBcUJGLE9BQU9HLEtBQVAsQ0FBYSxHQUFiLENBQTNCO0FBQ0EsUUFBTUMsU0FBU1IsU0FBU0ssU0FBVCxDQUFmO0FBQ0EsU0FBTyxPQUFPRyxNQUFQLEtBQWtCLFFBQWxCLEdBQTZCQSxPQUFPRixLQUFQLENBQTdCLEdBQTZDLEtBQUssQ0FBekQ7QUFDRCxDQUpEOztrQkFNZSxnQkFBZUcsSUFBZixFQUFxQjtBQUNsQyxRQUFNQyxNQUFNLE1BQU1ELElBQWxCO0FBQ0EsTUFBSUMsSUFBSUMsUUFBSixFQUFKLEVBQW9CLE9BQU9ELEdBQVA7QUFDcEIsUUFBTSxFQUFFRSxHQUFGLEtBQVVGLEdBQWhCO0FBQ0EsUUFBTSxFQUFFRyxNQUFGLEtBQWFELEdBQW5CO0FBQ0EsUUFBTU4sUUFBUU8sVUFBVUEsV0FBVyxFQUFyQixJQUEyQlYsWUFBWVUsTUFBWixDQUF6QztBQUNBLE1BQUlQLEtBQUosRUFBV0ksSUFBSUksT0FBSixFQUFZLE1BQU1SLE1BQU1JLEdBQU4sQ0FBbEI7QUFDWCxTQUFPQSxHQUFQO0FBQ0EsU0FBT0oscUJBQWFJLEdBQWIsSUFBa0JLLFVBQVUsTUFBTVQsTUFBTUksR0FBTixDQUFsQyxNQUFpREEsR0FBeEQ7QUFDRCxDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYm90L3NraWxscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2xzdGF0cyBmcm9tICcuL2xvbHN0YXRzJztcbmltcG9ydCBnbG9iYWwgZnJvbSAnLi9nbG9iYWwnO1xuXG5jb25zdCBza2lsbHNldCA9IHtcbiAgZ2xvYmFsLFxuICBsb2xzdGF0cyxcbn07XG5cbmNvbnN0IHNraWxsRmluZGVyID0gaW50ZW50ID0+IHtcbiAgY29uc3QgW25hbWVzcGFjZSwgc2tpbGxdID0gaW50ZW50LnNwbGl0KCcuJyk7XG4gIGNvbnN0IGRvbWFpbiA9IHNraWxsc2V0W25hbWVzcGFjZV07XG4gIHJldHVybiB0eXBlb2YgZG9tYWluID09PSAnb2JqZWN0JyA/IGRvbWFpbltza2lsbF0gOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbihfY3R4KSB7XG4gIGNvbnN0IGN0eCA9IGF3YWl0IF9jdHg7XG4gIGlmIChjdHgucmVzb2x2ZWQoKSkgcmV0dXJuIGN0eDtcbiAgY29uc3QgeyBubHAgfSA9IGN0eDtcbiAgY29uc3QgeyBhY3Rpb24gfSA9IG5scDtcbiAgY29uc3Qgc2tpbGwgPSBhY3Rpb24gJiYgYWN0aW9uICE9PSAnJyAmJiBza2lsbEZpbmRlcihhY3Rpb24pO1xuICBpZiAoc2tpbGwpIGN0eC5yZXNvbHZlKGF3YWl0IHNraWxsKGN0eCkpO1xuICByZXR1cm4gY3R4O1xuICByZXR1cm4gc2tpbGwgPyB7IC4uLmN0eCwgcmVhY3Rpb246IGF3YWl0IHNraWxsKGN0eCkgfSA6IGN0eDtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "skillset",
        "global",
        "lolstats",
        "skillFinder",
        "intent",
        "namespace",
        "skill",
        "split",
        "domain",
        "_ctx",
        "ctx",
        "resolved",
        "nlp",
        "action",
        "resolve",
        "reaction"
      ],
      "mappings": ";;;;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,WAAW;AACfC,0BADe;AAEfC;AAFe,CAAjB;;AAKA,MAAMC,cAAcC,UAAU;AAC5B,QAAM,CAACC,SAAD,EAAYC,KAAZ,IAAqBF,OAAOG,KAAP,CAAa,GAAb,CAA3B;AACA,QAAMC,SAASR,SAASK,SAAT,CAAf;AACA,SAAO,OAAOG,MAAP,KAAkB,QAAlB,GAA6BA,OAAOF,KAAP,CAA7B,GAA6C,KAAK,CAAzD;AACD,CAJD;;kBAMe,gBAAeG,IAAf,EAAqB;AAClC,QAAMC,MAAM,MAAMD,IAAlB;AACA,MAAIC,IAAIC,QAAJ,EAAJ,EAAoB,OAAOD,GAAP;AACpB,QAAM,EAAEE,GAAF,KAAUF,GAAhB;AACA,QAAM,EAAEG,MAAF,KAAaD,GAAnB;AACA,QAAMN,QAAQO,UAAUA,WAAW,EAArB,IAA2BV,YAAYU,MAAZ,CAAzC;AACA,MAAIP,KAAJ,EAAWI,IAAII,OAAJ,EAAY,MAAMR,MAAMI,GAAN,CAAlB;AACX,SAAOA,GAAP;AACA,SAAOJ,qBAAaI,GAAb,IAAkBK,UAAU,MAAMT,MAAMI,GAAN,CAAlC,MAAiDA,GAAxD;AACD,C",
      "file": "index.js",
      "sourceRoot": "/app/bot/skills",
      "sourcesContent": [
        "import lolstats from './lolstats';\nimport global from './global';\n\nconst skillset = {\n  global,\n  lolstats,\n};\n\nconst skillFinder = intent => {\n  const [namespace, skill] = intent.split('.');\n  const domain = skillset[namespace];\n  return typeof domain === 'object' ? domain[skill] : void 0;\n};\n\nexport default async function(_ctx) {\n  const ctx = await _ctx;\n  if (ctx.resolved()) return ctx;\n  const { nlp } = ctx;\n  const { action } = nlp;\n  const skill = action && action !== '' && skillFinder(action);\n  if (skill) ctx.resolve(await skill(ctx));\n  return ctx;\n  return skill ? { ...ctx, reaction: await skill(ctx) } : ctx;\n}\n"
      ]
    },
    "mtime": 1523329634821
  },
  "{\"filename\":\"/app/bot/skills/lolstats/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/lolstats\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./buildHelp",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "buildHelp"
              }
            ]
          },
          {
            "source": "./rememberMySummoner",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "rememberMySummoner"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/lolstats/index.js",
      "filenameRelative": "/app/bot/skills/lolstats/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/lolstats",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _buildHelp = require('./buildHelp');\n\nvar _buildHelp2 = _interopRequireDefault(_buildHelp);\n\nvar _rememberMySummoner = require('./rememberMySummoner');\n\nvar _rememberMySummoner2 = _interopRequireDefault(_rememberMySummoner);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  buildHelp: _buildHelp2.default,\n  rememberMySummoner: _rememberMySummoner2.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJ1aWxkSGVscCIsInJlbWVtYmVyTXlTdW1tb25lciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O2tCQUVlO0FBQ2JBLGdDQURhO0FBRWJDO0FBRmEsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9za2lsbHMvbG9sc3RhdHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnVpbGRIZWxwIGZyb20gJy4vYnVpbGRIZWxwJztcbmltcG9ydCByZW1lbWJlck15U3VtbW9uZXIgZnJvbSAnLi9yZW1lbWJlck15U3VtbW9uZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGJ1aWxkSGVscCxcbiAgcmVtZW1iZXJNeVN1bW1vbmVyLFxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "buildHelp",
        "rememberMySummoner"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;kBAEe;AACbA,gCADa;AAEbC;AAFa,C",
      "file": "index.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "sourcesContent": [
        "import buildHelp from './buildHelp';\nimport rememberMySummoner from './rememberMySummoner';\n\nexport default {\n  buildHelp,\n  rememberMySummoner,\n};\n"
      ]
    },
    "mtime": 1523080898061
  },
  "{\"filename\":\"/app/bot/skills/lolstats/buildHelp.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/lolstats\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/lolstats/buildHelp.js",
      "filenameRelative": "/app/bot/skills/lolstats/buildHelp.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "buildHelp.js",
      "sourceFileName": "buildHelp.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/lolstats",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "buildHelp"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = async () => ({\n  type: 'response',\n  contentType: 'text',\n  content: 'Te hare ganar algo de manos en LoL'\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkSGVscC5qcyJdLCJuYW1lcyI6WyJ0eXBlIiwiY29udGVudFR5cGUiLCJjb250ZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWUsYUFBYTtBQUMxQkEsUUFBTSxVQURvQjtBQUUxQkMsZUFBYSxNQUZhO0FBRzFCQyxXQUFTO0FBSGlCLENBQWIsQyIsImZpbGUiOiJidWlsZEhlbHAuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3Qvc2tpbGxzL2xvbHN0YXRzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYXN5bmMgKCkgPT4gKHtcbiAgdHlwZTogJ3Jlc3BvbnNlJyxcbiAgY29udGVudFR5cGU6ICd0ZXh0JyxcbiAgY29udGVudDogJ1RlIGhhcmUgZ2FuYXIgYWxnbyBkZSBtYW5vcyBlbiBMb0wnLFxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "buildHelp.js"
      ],
      "names": [
        "type",
        "contentType",
        "content"
      ],
      "mappings": ";;;;;;kBAAe,aAAa;AAC1BA,QAAM,UADoB;AAE1BC,eAAa,MAFa;AAG1BC,WAAS;AAHiB,CAAb,C",
      "file": "buildHelp.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "sourcesContent": [
        "export default async () => ({\n  type: 'response',\n  contentType: 'text',\n  content: 'Te hare ganar algo de manos en LoL',\n});\n"
      ]
    },
    "mtime": 1523080865837
  },
  "{\"filename\":\"/app/bot/skills/lolstats/rememberMySummoner.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/lolstats\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "Schema"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Schema",
                "local": "Schema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/lolstats/rememberMySummoner.js",
      "filenameRelative": "/app/bot/skills/lolstats/rememberMySummoner.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "rememberMySummoner.js",
      "sourceFileName": "rememberMySummoner.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/lolstats",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "rememberMySummoner"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar chatter = new _mongoose.Schema({\n  id: Number,\n  accountId: Number,\n  name: String,\n  profileIconId: Number,\n  revisionDate: Number,\n  summonerLevel: Number\n});\n\nvar summoner = new _mongoose.Schema({\n  id: Number,\n  accountId: Number,\n  name: String,\n  profileIconId: Number,\n  revisionDate: Number,\n  summonerLevel: Number\n});\n\nexports.default = async ctx => {\n  console.log('yolotzin');\n  return ctx;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbWVtYmVyTXlTdW1tb25lci5qcyJdLCJuYW1lcyI6WyJjaGF0dGVyIiwiaWQiLCJOdW1iZXIiLCJhY2NvdW50SWQiLCJuYW1lIiwiU3RyaW5nIiwicHJvZmlsZUljb25JZCIsInJldmlzaW9uRGF0ZSIsInN1bW1vbmVyTGV2ZWwiLCJzdW1tb25lciIsImN0eCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBLElBQUlBLFVBQVUscUJBQVc7QUFDdkJDLE1BQUlDLE1BRG1CO0FBRXZCQyxhQUFXRCxNQUZZO0FBR3ZCRSxRQUFNQyxNQUhpQjtBQUl2QkMsaUJBQWVKLE1BSlE7QUFLdkJLLGdCQUFjTCxNQUxTO0FBTXZCTSxpQkFBZU47QUFOUSxDQUFYLENBQWQ7O0FBU0EsSUFBSU8sV0FBVyxxQkFBVztBQUN4QlIsTUFBSUMsTUFEb0I7QUFFeEJDLGFBQVdELE1BRmE7QUFHeEJFLFFBQU1DLE1BSGtCO0FBSXhCQyxpQkFBZUosTUFKUztBQUt4QkssZ0JBQWNMLE1BTFU7QUFNeEJNLGlCQUFlTjtBQU5TLENBQVgsQ0FBZjs7a0JBU2UsTUFBTVEsR0FBTixJQUFhO0FBQzFCQyxVQUFRQyxHQUFSLENBQVksVUFBWjtBQUNBLFNBQU9GLEdBQVA7QUFDRCxDIiwiZmlsZSI6InJlbWVtYmVyTXlTdW1tb25lci5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9za2lsbHMvbG9sc3RhdHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbnZhciBjaGF0dGVyID0gbmV3IFNjaGVtYSh7XG4gIGlkOiBOdW1iZXIsXG4gIGFjY291bnRJZDogTnVtYmVyLFxuICBuYW1lOiBTdHJpbmcsXG4gIHByb2ZpbGVJY29uSWQ6IE51bWJlcixcbiAgcmV2aXNpb25EYXRlOiBOdW1iZXIsXG4gIHN1bW1vbmVyTGV2ZWw6IE51bWJlcixcbn0pO1xuXG52YXIgc3VtbW9uZXIgPSBuZXcgU2NoZW1hKHtcbiAgaWQ6IE51bWJlcixcbiAgYWNjb3VudElkOiBOdW1iZXIsXG4gIG5hbWU6IFN0cmluZyxcbiAgcHJvZmlsZUljb25JZDogTnVtYmVyLFxuICByZXZpc2lvbkRhdGU6IE51bWJlcixcbiAgc3VtbW9uZXJMZXZlbDogTnVtYmVyLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGN0eCA9PiB7XG4gIGNvbnNvbGUubG9nKCd5b2xvdHppbicpO1xuICByZXR1cm4gY3R4O1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "rememberMySummoner.js"
      ],
      "names": [
        "chatter",
        "id",
        "Number",
        "accountId",
        "name",
        "String",
        "profileIconId",
        "revisionDate",
        "summonerLevel",
        "summoner",
        "ctx",
        "console",
        "log"
      ],
      "mappings": ";;;;;;AAAA;;AAEA,IAAIA,UAAU,qBAAW;AACvBC,MAAIC,MADmB;AAEvBC,aAAWD,MAFY;AAGvBE,QAAMC,MAHiB;AAIvBC,iBAAeJ,MAJQ;AAKvBK,gBAAcL,MALS;AAMvBM,iBAAeN;AANQ,CAAX,CAAd;;AASA,IAAIO,WAAW,qBAAW;AACxBR,MAAIC,MADoB;AAExBC,aAAWD,MAFa;AAGxBE,QAAMC,MAHkB;AAIxBC,iBAAeJ,MAJS;AAKxBK,gBAAcL,MALU;AAMxBM,iBAAeN;AANS,CAAX,CAAf;;kBASe,MAAMQ,GAAN,IAAa;AAC1BC,UAAQC,GAAR,CAAY,UAAZ;AACA,SAAOF,GAAP;AACD,C",
      "file": "rememberMySummoner.js",
      "sourceRoot": "/app/bot/skills/lolstats",
      "sourcesContent": [
        "import { Schema } from 'mongoose';\n\nvar chatter = new Schema({\n  id: Number,\n  accountId: Number,\n  name: String,\n  profileIconId: Number,\n  revisionDate: Number,\n  summonerLevel: Number,\n});\n\nvar summoner = new Schema({\n  id: Number,\n  accountId: Number,\n  name: String,\n  profileIconId: Number,\n  revisionDate: Number,\n  summonerLevel: Number,\n});\n\nexport default async ctx => {\n  console.log('yolotzin');\n  return ctx;\n};\n"
      ]
    },
    "mtime": 1523080917454
  },
  "{\"filename\":\"/app/bot/nlp/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/nlp\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./dialogflow",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "askDf"
              }
            ]
          },
          {
            "source": "../actions",
            "imported": [
              "basicTextReply"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "basicTextReply",
                "local": "basicTextReply"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/nlp/index.js",
      "filenameRelative": "/app/bot/nlp/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/nlp",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/nlp",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _dialogflow = require('./dialogflow');\n\nvar _dialogflow2 = _interopRequireDefault(_dialogflow);\n\nvar _actions = require('../actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = async function (ctx) {\n  if (ctx.resolved()) return ctx;\n  const nlp = await (0, _dialogflow2.default)(ctx.getMessageContent(), {\n    sessionId: ctx.getAuthorId()\n  });\n  const ctxOut = _extends({}, ctx, {\n    nlp,\n    handled: nlp.nlpFulfilled\n  });\n  ctx.set('nlp', nlp);\n  // if (nlp.nlpFulfilled) ctxOut.reaction = basicTextReply(nlp.fulfillment);\n  return ctxOut;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImN0eCIsInJlc29sdmVkIiwibmxwIiwiZ2V0TWVzc2FnZUNvbnRlbnQiLCJzZXNzaW9uSWQiLCJnZXRBdXRob3JJZCIsImN0eE91dCIsImhhbmRsZWQiLCJubHBGdWxmaWxsZWQiLCJzZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztrQkFFZSxnQkFBZUEsR0FBZixFQUFvQjtBQUNqQyxNQUFJQSxJQUFJQyxRQUFKLEVBQUosRUFBb0IsT0FBT0QsR0FBUDtBQUNwQixRQUFNRSxNQUFNLE1BQU0sMEJBQU1GLElBQUlHLGlCQUFKLEVBQU4sRUFBK0I7QUFDL0NDLGVBQVdKLElBQUlLLFdBQUo7QUFEb0MsR0FBL0IsQ0FBbEI7QUFHQSxRQUFNQyxzQkFDRE4sR0FEQztBQUVKRSxPQUZJO0FBR0pLLGFBQVNMLElBQUlNO0FBSFQsSUFBTjtBQUtBUixNQUFJUyxHQUFKLENBQVEsS0FBUixFQUFlUCxHQUFmO0FBQ0E7QUFDQSxTQUFPSSxNQUFQO0FBQ0QsQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9ubHAiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXNrRGYgZnJvbSAnLi9kaWFsb2dmbG93JztcbmltcG9ydCB7IGJhc2ljVGV4dFJlcGx5IH0gZnJvbSAnLi4vYWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uKGN0eCkge1xuICBpZiAoY3R4LnJlc29sdmVkKCkpIHJldHVybiBjdHg7XG4gIGNvbnN0IG5scCA9IGF3YWl0IGFza0RmKGN0eC5nZXRNZXNzYWdlQ29udGVudCgpLCB7XG4gICAgc2Vzc2lvbklkOiBjdHguZ2V0QXV0aG9ySWQoKSxcbiAgfSk7XG4gIGNvbnN0IGN0eE91dCA9IHtcbiAgICAuLi5jdHgsXG4gICAgbmxwLFxuICAgIGhhbmRsZWQ6IG5scC5ubHBGdWxmaWxsZWQsXG4gIH07XG4gIGN0eC5zZXQoJ25scCcsIG5scCk7XG4gIC8vIGlmIChubHAubmxwRnVsZmlsbGVkKSBjdHhPdXQucmVhY3Rpb24gPSBiYXNpY1RleHRSZXBseShubHAuZnVsZmlsbG1lbnQpO1xuICByZXR1cm4gY3R4T3V0O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "ctx",
        "resolved",
        "nlp",
        "getMessageContent",
        "sessionId",
        "getAuthorId",
        "ctxOut",
        "handled",
        "nlpFulfilled",
        "set"
      ],
      "mappings": ";;;;;;;;AAAA;;;;AACA;;;;kBAEe,gBAAeA,GAAf,EAAoB;AACjC,MAAIA,IAAIC,QAAJ,EAAJ,EAAoB,OAAOD,GAAP;AACpB,QAAME,MAAM,MAAM,0BAAMF,IAAIG,iBAAJ,EAAN,EAA+B;AAC/CC,eAAWJ,IAAIK,WAAJ;AADoC,GAA/B,CAAlB;AAGA,QAAMC,sBACDN,GADC;AAEJE,OAFI;AAGJK,aAASL,IAAIM;AAHT,IAAN;AAKAR,MAAIS,GAAJ,CAAQ,KAAR,EAAeP,GAAf;AACA;AACA,SAAOI,MAAP;AACD,C",
      "file": "index.js",
      "sourceRoot": "/app/bot/nlp",
      "sourcesContent": [
        "import askDf from './dialogflow';\nimport { basicTextReply } from '../actions';\n\nexport default async function(ctx) {\n  if (ctx.resolved()) return ctx;\n  const nlp = await askDf(ctx.getMessageContent(), {\n    sessionId: ctx.getAuthorId(),\n  });\n  const ctxOut = {\n    ...ctx,\n    nlp,\n    handled: nlp.nlpFulfilled,\n  };\n  ctx.set('nlp', nlp);\n  // if (nlp.nlpFulfilled) ctxOut.reaction = basicTextReply(nlp.fulfillment);\n  return ctxOut;\n}\n"
      ]
    },
    "mtime": 1523331097215
  },
  "{\"filename\":\"/app/bot/nlp/dialogflow.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/nlp\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "apiai",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "apiai"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/nlp/dialogflow.js",
      "filenameRelative": "/app/bot/nlp/dialogflow.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "dialogflow.js",
      "sourceFileName": "dialogflow.js",
      "sourceRoot": "/app/bot/nlp",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/nlp",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "dialogflow"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _apiai = require('apiai');\n\nvar _apiai2 = _interopRequireDefault(_apiai);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst { DF_CLIENT_ACCESS_TOKEN } = process.env;\nconst agent = (0, _apiai2.default)(DF_CLIENT_ACCESS_TOKEN);\n\nconst checkFulfilled = fulfillment => Boolean(fulfillment.messages) && Array.isArray(fulfillment.messages) && Boolean(fulfillment.messages.length > 0) && Boolean(fulfillment.speech && fulfillment.speech !== '');\nconst getFulfillment = fl => fl.messages[0].speech;\n\nconst marshallResponse = response => {\n  const { result, lang, status } = response;\n  const { action, parameters, fulfillment } = result || {};\n  const reaction = {\n    type: 'nlp-response',\n    lang,\n    action,\n    parameters,\n    nlpFulfilled: checkFulfilled(fulfillment),\n    query: result.resolvedQuery\n  };\n  if (action && action !== '' && reaction.nlpFulfilled) reaction.fulfillment = getFulfillment(fulfillment);\n  return reaction;\n};\n\nexports.default = (content, options = {}) => new Promise((resolve, reject) => {\n  const request = agent.textRequest(content, options);\n  request.on('response', resolve);\n  request.on('error', reject);\n  request.end();\n}).then(marshallResponse);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpYWxvZ2Zsb3cuanMiXSwibmFtZXMiOlsiREZfQ0xJRU5UX0FDQ0VTU19UT0tFTiIsInByb2Nlc3MiLCJlbnYiLCJhZ2VudCIsImNoZWNrRnVsZmlsbGVkIiwiZnVsZmlsbG1lbnQiLCJCb29sZWFuIiwibWVzc2FnZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJzcGVlY2giLCJnZXRGdWxmaWxsbWVudCIsImZsIiwibWFyc2hhbGxSZXNwb25zZSIsInJlc3BvbnNlIiwicmVzdWx0IiwibGFuZyIsInN0YXR1cyIsImFjdGlvbiIsInBhcmFtZXRlcnMiLCJyZWFjdGlvbiIsInR5cGUiLCJubHBGdWxmaWxsZWQiLCJxdWVyeSIsInJlc29sdmVkUXVlcnkiLCJjb250ZW50Iiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsInRleHRSZXF1ZXN0Iiwib24iLCJlbmQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsTUFBTSxFQUFFQSxzQkFBRixLQUE2QkMsUUFBUUMsR0FBM0M7QUFDQSxNQUFNQyxRQUFRLHFCQUFNSCxzQkFBTixDQUFkOztBQUVBLE1BQU1JLGlCQUFpQkMsZUFDckJDLFFBQVFELFlBQVlFLFFBQXBCLEtBQ0FDLE1BQU1DLE9BQU4sQ0FBY0osWUFBWUUsUUFBMUIsQ0FEQSxJQUVBRCxRQUFRRCxZQUFZRSxRQUFaLENBQXFCRyxNQUFyQixHQUE4QixDQUF0QyxDQUZBLElBR0FKLFFBQVFELFlBQVlNLE1BQVosSUFBc0JOLFlBQVlNLE1BQVosS0FBdUIsRUFBckQsQ0FKRjtBQUtBLE1BQU1DLGlCQUFpQkMsTUFBTUEsR0FBR04sUUFBSCxDQUFZLENBQVosRUFBZUksTUFBNUM7O0FBRUEsTUFBTUcsbUJBQW1CQyxZQUFZO0FBQ25DLFFBQU0sRUFBRUMsTUFBRixFQUFVQyxJQUFWLEVBQWdCQyxNQUFoQixLQUEyQkgsUUFBakM7QUFDQSxRQUFNLEVBQUVJLE1BQUYsRUFBVUMsVUFBVixFQUFzQmYsV0FBdEIsS0FBc0NXLFVBQVUsRUFBdEQ7QUFDQSxRQUFNSyxXQUFXO0FBQ2ZDLFVBQU0sY0FEUztBQUVmTCxRQUZlO0FBR2ZFLFVBSGU7QUFJZkMsY0FKZTtBQUtmRyxrQkFBY25CLGVBQWVDLFdBQWYsQ0FMQztBQU1mbUIsV0FBT1IsT0FBT1M7QUFOQyxHQUFqQjtBQVFBLE1BQUlOLFVBQVVBLFdBQVcsRUFBckIsSUFBMkJFLFNBQVNFLFlBQXhDLEVBQ0VGLFNBQVNoQixXQUFULEdBQXVCTyxlQUFlUCxXQUFmLENBQXZCO0FBQ0YsU0FBT2dCLFFBQVA7QUFDRCxDQWREOztrQkFnQmUsQ0FBQ0ssT0FBRCxFQUFVQyxVQUFVLEVBQXBCLEtBQ2IsSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUMvQixRQUFNQyxVQUFVNUIsTUFBTTZCLFdBQU4sQ0FBa0JOLE9BQWxCLEVBQTJCQyxPQUEzQixDQUFoQjtBQUNBSSxVQUFRRSxFQUFSLENBQVcsVUFBWCxFQUF1QkosT0FBdkI7QUFDQUUsVUFBUUUsRUFBUixDQUFXLE9BQVgsRUFBb0JILE1BQXBCO0FBQ0FDLFVBQVFHLEdBQVI7QUFDRCxDQUxELEVBS0dDLElBTEgsQ0FLUXJCLGdCQUxSLEMiLCJmaWxlIjoiZGlhbG9nZmxvdy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9ubHAiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBpYWkgZnJvbSAnYXBpYWknO1xuXG5jb25zdCB7IERGX0NMSUVOVF9BQ0NFU1NfVE9LRU4gfSA9IHByb2Nlc3MuZW52O1xuY29uc3QgYWdlbnQgPSBhcGlhaShERl9DTElFTlRfQUNDRVNTX1RPS0VOKTtcblxuY29uc3QgY2hlY2tGdWxmaWxsZWQgPSBmdWxmaWxsbWVudCA9PlxuICBCb29sZWFuKGZ1bGZpbGxtZW50Lm1lc3NhZ2VzKSAmJlxuICBBcnJheS5pc0FycmF5KGZ1bGZpbGxtZW50Lm1lc3NhZ2VzKSAmJlxuICBCb29sZWFuKGZ1bGZpbGxtZW50Lm1lc3NhZ2VzLmxlbmd0aCA+IDApICYmXG4gIEJvb2xlYW4oZnVsZmlsbG1lbnQuc3BlZWNoICYmIGZ1bGZpbGxtZW50LnNwZWVjaCAhPT0gJycpO1xuY29uc3QgZ2V0RnVsZmlsbG1lbnQgPSBmbCA9PiBmbC5tZXNzYWdlc1swXS5zcGVlY2g7XG5cbmNvbnN0IG1hcnNoYWxsUmVzcG9uc2UgPSByZXNwb25zZSA9PiB7XG4gIGNvbnN0IHsgcmVzdWx0LCBsYW5nLCBzdGF0dXMgfSA9IHJlc3BvbnNlO1xuICBjb25zdCB7IGFjdGlvbiwgcGFyYW1ldGVycywgZnVsZmlsbG1lbnQgfSA9IHJlc3VsdCB8fCB7fTtcbiAgY29uc3QgcmVhY3Rpb24gPSB7XG4gICAgdHlwZTogJ25scC1yZXNwb25zZScsXG4gICAgbGFuZyxcbiAgICBhY3Rpb24sXG4gICAgcGFyYW1ldGVycyxcbiAgICBubHBGdWxmaWxsZWQ6IGNoZWNrRnVsZmlsbGVkKGZ1bGZpbGxtZW50KSxcbiAgICBxdWVyeTogcmVzdWx0LnJlc29sdmVkUXVlcnksXG4gIH07XG4gIGlmIChhY3Rpb24gJiYgYWN0aW9uICE9PSAnJyAmJiByZWFjdGlvbi5ubHBGdWxmaWxsZWQpXG4gICAgcmVhY3Rpb24uZnVsZmlsbG1lbnQgPSBnZXRGdWxmaWxsbWVudChmdWxmaWxsbWVudCk7XG4gIHJldHVybiByZWFjdGlvbjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IChjb250ZW50LCBvcHRpb25zID0ge30pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gYWdlbnQudGV4dFJlcXVlc3QoY29udGVudCwgb3B0aW9ucyk7XG4gICAgcmVxdWVzdC5vbigncmVzcG9uc2UnLCByZXNvbHZlKTtcbiAgICByZXF1ZXN0Lm9uKCdlcnJvcicsIHJlamVjdCk7XG4gICAgcmVxdWVzdC5lbmQoKTtcbiAgfSkudGhlbihtYXJzaGFsbFJlc3BvbnNlKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "dialogflow.js"
      ],
      "names": [
        "DF_CLIENT_ACCESS_TOKEN",
        "process",
        "env",
        "agent",
        "checkFulfilled",
        "fulfillment",
        "Boolean",
        "messages",
        "Array",
        "isArray",
        "length",
        "speech",
        "getFulfillment",
        "fl",
        "marshallResponse",
        "response",
        "result",
        "lang",
        "status",
        "action",
        "parameters",
        "reaction",
        "type",
        "nlpFulfilled",
        "query",
        "resolvedQuery",
        "content",
        "options",
        "Promise",
        "resolve",
        "reject",
        "request",
        "textRequest",
        "on",
        "end",
        "then"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AAEA,MAAM,EAAEA,sBAAF,KAA6BC,QAAQC,GAA3C;AACA,MAAMC,QAAQ,qBAAMH,sBAAN,CAAd;;AAEA,MAAMI,iBAAiBC,eACrBC,QAAQD,YAAYE,QAApB,KACAC,MAAMC,OAAN,CAAcJ,YAAYE,QAA1B,CADA,IAEAD,QAAQD,YAAYE,QAAZ,CAAqBG,MAArB,GAA8B,CAAtC,CAFA,IAGAJ,QAAQD,YAAYM,MAAZ,IAAsBN,YAAYM,MAAZ,KAAuB,EAArD,CAJF;AAKA,MAAMC,iBAAiBC,MAAMA,GAAGN,QAAH,CAAY,CAAZ,EAAeI,MAA5C;;AAEA,MAAMG,mBAAmBC,YAAY;AACnC,QAAM,EAAEC,MAAF,EAAUC,IAAV,EAAgBC,MAAhB,KAA2BH,QAAjC;AACA,QAAM,EAAEI,MAAF,EAAUC,UAAV,EAAsBf,WAAtB,KAAsCW,UAAU,EAAtD;AACA,QAAMK,WAAW;AACfC,UAAM,cADS;AAEfL,QAFe;AAGfE,UAHe;AAIfC,cAJe;AAKfG,kBAAcnB,eAAeC,WAAf,CALC;AAMfmB,WAAOR,OAAOS;AANC,GAAjB;AAQA,MAAIN,UAAUA,WAAW,EAArB,IAA2BE,SAASE,YAAxC,EACEF,SAAShB,WAAT,GAAuBO,eAAeP,WAAf,CAAvB;AACF,SAAOgB,QAAP;AACD,CAdD;;kBAgBe,CAACK,OAAD,EAAUC,UAAU,EAApB,KACb,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,QAAMC,UAAU5B,MAAM6B,WAAN,CAAkBN,OAAlB,EAA2BC,OAA3B,CAAhB;AACAI,UAAQE,EAAR,CAAW,UAAX,EAAuBJ,OAAvB;AACAE,UAAQE,EAAR,CAAW,OAAX,EAAoBH,MAApB;AACAC,UAAQG,GAAR;AACD,CALD,EAKGC,IALH,CAKQrB,gBALR,C",
      "file": "dialogflow.js",
      "sourceRoot": "/app/bot/nlp",
      "sourcesContent": [
        "import apiai from 'apiai';\n\nconst { DF_CLIENT_ACCESS_TOKEN } = process.env;\nconst agent = apiai(DF_CLIENT_ACCESS_TOKEN);\n\nconst checkFulfilled = fulfillment =>\n  Boolean(fulfillment.messages) &&\n  Array.isArray(fulfillment.messages) &&\n  Boolean(fulfillment.messages.length > 0) &&\n  Boolean(fulfillment.speech && fulfillment.speech !== '');\nconst getFulfillment = fl => fl.messages[0].speech;\n\nconst marshallResponse = response => {\n  const { result, lang, status } = response;\n  const { action, parameters, fulfillment } = result || {};\n  const reaction = {\n    type: 'nlp-response',\n    lang,\n    action,\n    parameters,\n    nlpFulfilled: checkFulfilled(fulfillment),\n    query: result.resolvedQuery,\n  };\n  if (action && action !== '' && reaction.nlpFulfilled)\n    reaction.fulfillment = getFulfillment(fulfillment);\n  return reaction;\n};\n\nexport default (content, options = {}) =>\n  new Promise((resolve, reject) => {\n    const request = agent.textRequest(content, options);\n    request.on('response', resolve);\n    request.on('error', reject);\n    request.end();\n  }).then(marshallResponse);\n"
      ]
    },
    "mtime": 1523083834228
  },
  "{\"filename\":\"/app/bot/adapters/discordJs/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/adapters/discordJs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "discord.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Discord"
              }
            ]
          },
          {
            "source": "rxjs/Rx",
            "imported": [
              "Subject",
              "Observable"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Subject",
                "local": "Subject"
              },
              {
                "kind": "named",
                "imported": "Observable",
                "local": "Observable"
              }
            ]
          },
          {
            "source": "rxjs/observable/zip",
            "imported": [
              "zip"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "zip",
                "local": "zip"
              }
            ]
          },
          {
            "source": "rxjs/observable/merge",
            "imported": [
              "merge"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "merge",
                "local": "merge"
              }
            ]
          },
          {
            "source": "rxjs/observable/fromEvent",
            "imported": [
              "fromEvent"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromEvent",
                "local": "fromEvent"
              }
            ]
          },
          {
            "source": "./handlers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "actionHandler"
              }
            ]
          },
          {
            "source": "./actions",
            "imported": [
              "adapterReady",
              "incomingMessage",
              "platformMessage"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "adapterReady",
                "local": "adapterReady"
              },
              {
                "kind": "named",
                "imported": "incomingMessage",
                "local": "incomingMessage"
              },
              {
                "kind": "named",
                "imported": "platformMessage",
                "local": "platformMessage"
              }
            ]
          },
          {
            "source": "./messageHelpers",
            "imported": [
              "discardOwnMessages",
              "discardBotMessages"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "discardOwnMessages",
                "local": "discardOwnMessages"
              },
              {
                "kind": "named",
                "imported": "discardBotMessages",
                "local": "discardBotMessages"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/adapters/discordJs/index.js",
      "filenameRelative": "/app/bot/adapters/discordJs/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/adapters/discordJs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _discord = require('discord.js');\n\nvar _discord2 = _interopRequireDefault(_discord);\n\nvar _Rx = require('rxjs/Rx');\n\nvar _zip = require('rxjs/observable/zip');\n\nvar _merge = require('rxjs/observable/merge');\n\nvar _fromEvent = require('rxjs/observable/fromEvent');\n\nvar _handlers = require('./handlers');\n\nvar _handlers2 = _interopRequireDefault(_handlers);\n\nvar _actions = require('./actions');\n\nvar _messageHelpers = require('./messageHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst client = new _discord2.default.Client();\n\nconst commands$ = new _Rx.Subject();\nconst reactions$ = new _Rx.Subject();\n\nconst platformMessages$ = (0, _fromEvent.fromEvent)(client, 'message').filter((0, _messageHelpers.discardOwnMessages)(client)).filter(_messageHelpers.discardBotMessages).map(_actions.platformMessage);\n\nconst platformEvents$ = (0, _merge.merge)((0, _fromEvent.fromEvent)(client, 'ready').map(_actions.adapterReady));\n\nconst messageLoop$ = (0, _zip.zip)((0, _merge.merge)(platformEvents$, platformMessages$), reactions$, (input, reaction) => _extends({}, reaction, { input }));\n\nconst platformSubscription = (0, _merge.merge)(messageLoop$, commands$).subscribe((0, _handlers2.default)(client));\n\nexports.default = () => ({\n  inputs$: (0, _merge.merge)(platformEvents$, platformMessages$.map(_actions.incomingMessage)),\n  reactions$,\n  commands$\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNsaWVudCIsIkNsaWVudCIsImNvbW1hbmRzJCIsInJlYWN0aW9ucyQiLCJwbGF0Zm9ybU1lc3NhZ2VzJCIsImZpbHRlciIsIm1hcCIsInBsYXRmb3JtRXZlbnRzJCIsIm1lc3NhZ2VMb29wJCIsImlucHV0IiwicmVhY3Rpb24iLCJwbGF0Zm9ybVN1YnNjcmlwdGlvbiIsInN1YnNjcmliZSIsImlucHV0cyQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsU0FBUyxJQUFJLGtCQUFRQyxNQUFaLEVBQWY7O0FBRUEsTUFBTUMsWUFBWSxpQkFBbEI7QUFDQSxNQUFNQyxhQUFhLGlCQUFuQjs7QUFFQSxNQUFNQyxvQkFBb0IsMEJBQVVKLE1BQVYsRUFBa0IsU0FBbEIsRUFDdkJLLE1BRHVCLENBQ2hCLHdDQUFtQkwsTUFBbkIsQ0FEZ0IsRUFFdkJLLE1BRnVCLHFDQUd2QkMsR0FIdUIsMEJBQTFCOztBQUtBLE1BQU1DLGtCQUFrQixrQkFBTSwwQkFBVVAsTUFBVixFQUFrQixPQUFsQixFQUEyQk0sR0FBM0IsdUJBQU4sQ0FBeEI7O0FBRUEsTUFBTUUsZUFBZSxjQUNuQixrQkFBTUQsZUFBTixFQUF1QkgsaUJBQXZCLENBRG1CLEVBRW5CRCxVQUZtQixFQUduQixDQUFDTSxLQUFELEVBQVFDLFFBQVIsa0JBQTJCQSxRQUEzQixJQUFxQ0QsS0FBckMsR0FIbUIsQ0FBckI7O0FBTUEsTUFBTUUsdUJBQXVCLGtCQUFNSCxZQUFOLEVBQW9CTixTQUFwQixFQUErQlUsU0FBL0IsQ0FDM0Isd0JBQWNaLE1BQWQsQ0FEMkIsQ0FBN0I7O2tCQUllLE9BQU87QUFDcEJhLFdBQVMsa0JBQU1OLGVBQU4sRUFBdUJILGtCQUFrQkUsR0FBbEIsMEJBQXZCLENBRFc7QUFFcEJILFlBRm9CO0FBR3BCRDtBQUhvQixDQUFQLEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QvYWRhcHRlcnMvZGlzY29yZEpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpc2NvcmQgZnJvbSAnZGlzY29yZC5qcyc7XG5pbXBvcnQgeyBTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9SeCc7XG5pbXBvcnQgeyB6aXAgfSBmcm9tICdyeGpzL29ic2VydmFibGUvemlwJztcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL21lcmdlJztcbmltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9mcm9tRXZlbnQnO1xuXG5pbXBvcnQgYWN0aW9uSGFuZGxlciBmcm9tICcuL2hhbmRsZXJzJztcbmltcG9ydCB7IGFkYXB0ZXJSZWFkeSwgaW5jb21pbmdNZXNzYWdlLCBwbGF0Zm9ybU1lc3NhZ2UgfSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IHsgZGlzY2FyZE93bk1lc3NhZ2VzLCBkaXNjYXJkQm90TWVzc2FnZXMgfSBmcm9tICcuL21lc3NhZ2VIZWxwZXJzJztcblxuY29uc3QgY2xpZW50ID0gbmV3IERpc2NvcmQuQ2xpZW50KCk7XG5cbmNvbnN0IGNvbW1hbmRzJCA9IG5ldyBTdWJqZWN0KCk7XG5jb25zdCByZWFjdGlvbnMkID0gbmV3IFN1YmplY3QoKTtcblxuY29uc3QgcGxhdGZvcm1NZXNzYWdlcyQgPSBmcm9tRXZlbnQoY2xpZW50LCAnbWVzc2FnZScpXG4gIC5maWx0ZXIoZGlzY2FyZE93bk1lc3NhZ2VzKGNsaWVudCkpXG4gIC5maWx0ZXIoZGlzY2FyZEJvdE1lc3NhZ2VzKVxuICAubWFwKHBsYXRmb3JtTWVzc2FnZSk7XG5cbmNvbnN0IHBsYXRmb3JtRXZlbnRzJCA9IG1lcmdlKGZyb21FdmVudChjbGllbnQsICdyZWFkeScpLm1hcChhZGFwdGVyUmVhZHkpKTtcblxuY29uc3QgbWVzc2FnZUxvb3AkID0gemlwKFxuICBtZXJnZShwbGF0Zm9ybUV2ZW50cyQsIHBsYXRmb3JtTWVzc2FnZXMkKSxcbiAgcmVhY3Rpb25zJCxcbiAgKGlucHV0LCByZWFjdGlvbikgPT4gKHsgLi4ucmVhY3Rpb24sIGlucHV0IH0pLFxuKTtcblxuY29uc3QgcGxhdGZvcm1TdWJzY3JpcHRpb24gPSBtZXJnZShtZXNzYWdlTG9vcCQsIGNvbW1hbmRzJCkuc3Vic2NyaWJlKFxuICBhY3Rpb25IYW5kbGVyKGNsaWVudCksXG4pO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiAoe1xuICBpbnB1dHMkOiBtZXJnZShwbGF0Zm9ybUV2ZW50cyQsIHBsYXRmb3JtTWVzc2FnZXMkLm1hcChpbmNvbWluZ01lc3NhZ2UpKSxcbiAgcmVhY3Rpb25zJCxcbiAgY29tbWFuZHMkLFxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "client",
        "Client",
        "commands$",
        "reactions$",
        "platformMessages$",
        "filter",
        "map",
        "platformEvents$",
        "messageLoop$",
        "input",
        "reaction",
        "platformSubscription",
        "subscribe",
        "inputs$"
      ],
      "mappings": ";;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;AACA;;AACA;;;;AAEA,MAAMA,SAAS,IAAI,kBAAQC,MAAZ,EAAf;;AAEA,MAAMC,YAAY,iBAAlB;AACA,MAAMC,aAAa,iBAAnB;;AAEA,MAAMC,oBAAoB,0BAAUJ,MAAV,EAAkB,SAAlB,EACvBK,MADuB,CAChB,wCAAmBL,MAAnB,CADgB,EAEvBK,MAFuB,qCAGvBC,GAHuB,0BAA1B;;AAKA,MAAMC,kBAAkB,kBAAM,0BAAUP,MAAV,EAAkB,OAAlB,EAA2BM,GAA3B,uBAAN,CAAxB;;AAEA,MAAME,eAAe,cACnB,kBAAMD,eAAN,EAAuBH,iBAAvB,CADmB,EAEnBD,UAFmB,EAGnB,CAACM,KAAD,EAAQC,QAAR,kBAA2BA,QAA3B,IAAqCD,KAArC,GAHmB,CAArB;;AAMA,MAAME,uBAAuB,kBAAMH,YAAN,EAAoBN,SAApB,EAA+BU,SAA/B,CAC3B,wBAAcZ,MAAd,CAD2B,CAA7B;;kBAIe,OAAO;AACpBa,WAAS,kBAAMN,eAAN,EAAuBH,kBAAkBE,GAAlB,0BAAvB,CADW;AAEpBH,YAFoB;AAGpBD;AAHoB,CAAP,C",
      "file": "index.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "sourcesContent": [
        "import Discord from 'discord.js';\nimport { Subject, Observable } from 'rxjs/Rx';\nimport { zip } from 'rxjs/observable/zip';\nimport { merge } from 'rxjs/observable/merge';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\n\nimport actionHandler from './handlers';\nimport { adapterReady, incomingMessage, platformMessage } from './actions';\nimport { discardOwnMessages, discardBotMessages } from './messageHelpers';\n\nconst client = new Discord.Client();\n\nconst commands$ = new Subject();\nconst reactions$ = new Subject();\n\nconst platformMessages$ = fromEvent(client, 'message')\n  .filter(discardOwnMessages(client))\n  .filter(discardBotMessages)\n  .map(platformMessage);\n\nconst platformEvents$ = merge(fromEvent(client, 'ready').map(adapterReady));\n\nconst messageLoop$ = zip(\n  merge(platformEvents$, platformMessages$),\n  reactions$,\n  (input, reaction) => ({ ...reaction, input }),\n);\n\nconst platformSubscription = merge(messageLoop$, commands$).subscribe(\n  actionHandler(client),\n);\n\nexport default () => ({\n  inputs$: merge(platformEvents$, platformMessages$.map(incomingMessage)),\n  reactions$,\n  commands$,\n});\n"
      ]
    },
    "mtime": 1523082140078
  },
  "{\"filename\":\"/app/bot/adapters/discordJs/actions.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/adapters/discordJs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./messageHelpers",
            "imported": [
              "marshallMessage"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "marshallMessage",
                "local": "marshallMessage"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "incomingMessage",
            "platformMessage",
            "adapterReady"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "incomingMessage",
              "exported": "incomingMessage"
            },
            {
              "kind": "local",
              "local": "platformMessage",
              "exported": "platformMessage"
            },
            {
              "kind": "local",
              "local": "adapterReady",
              "exported": "adapterReady"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/adapters/discordJs/actions.js",
      "filenameRelative": "/app/bot/adapters/discordJs/actions.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "actions.js",
      "sourceFileName": "actions.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/adapters/discordJs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "actions"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adapterReady = exports.platformMessage = exports.incomingMessage = undefined;\n\nvar _messageHelpers = require('./messageHelpers');\n\nconst incomingMessage = exports.incomingMessage = ({ message }) => ({\n  type: 'incoming-message',\n  message: (0, _messageHelpers.marshallMessage)(message)\n});\n\nconst platformMessage = exports.platformMessage = message => ({\n  type: 'platform-message',\n  message\n});\n\nconst adapterReady = exports.adapterReady = () => ({ type: 'adapter-ready' });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGlvbnMuanMiXSwibmFtZXMiOlsiaW5jb21pbmdNZXNzYWdlIiwibWVzc2FnZSIsInR5cGUiLCJwbGF0Zm9ybU1lc3NhZ2UiLCJhZGFwdGVyUmVhZHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFTyxNQUFNQSw0Q0FBa0IsQ0FBQyxFQUFFQyxPQUFGLEVBQUQsTUFBa0I7QUFDL0NDLFFBQU0sa0JBRHlDO0FBRS9DRCxXQUFTLHFDQUFnQkEsT0FBaEI7QUFGc0MsQ0FBbEIsQ0FBeEI7O0FBS0EsTUFBTUUsNENBQWtCRixZQUFZO0FBQ3pDQyxRQUFNLGtCQURtQztBQUV6Q0Q7QUFGeUMsQ0FBWixDQUF4Qjs7QUFLQSxNQUFNRyxzQ0FBZSxPQUFPLEVBQUVGLE1BQU0sZUFBUixFQUFQLENBQXJCIiwiZmlsZSI6ImFjdGlvbnMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QvYWRhcHRlcnMvZGlzY29yZEpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFyc2hhbGxNZXNzYWdlIH0gZnJvbSAnLi9tZXNzYWdlSGVscGVycyc7XG5cbmV4cG9ydCBjb25zdCBpbmNvbWluZ01lc3NhZ2UgPSAoeyBtZXNzYWdlIH0pID0+ICh7XG4gIHR5cGU6ICdpbmNvbWluZy1tZXNzYWdlJyxcbiAgbWVzc2FnZTogbWFyc2hhbGxNZXNzYWdlKG1lc3NhZ2UpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBwbGF0Zm9ybU1lc3NhZ2UgPSBtZXNzYWdlID0+ICh7XG4gIHR5cGU6ICdwbGF0Zm9ybS1tZXNzYWdlJyxcbiAgbWVzc2FnZSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYWRhcHRlclJlYWR5ID0gKCkgPT4gKHsgdHlwZTogJ2FkYXB0ZXItcmVhZHknIH0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "actions.js"
      ],
      "names": [
        "incomingMessage",
        "message",
        "type",
        "platformMessage",
        "adapterReady"
      ],
      "mappings": ";;;;;;;AAAA;;AAEO,MAAMA,4CAAkB,CAAC,EAAEC,OAAF,EAAD,MAAkB;AAC/CC,QAAM,kBADyC;AAE/CD,WAAS,qCAAgBA,OAAhB;AAFsC,CAAlB,CAAxB;;AAKA,MAAME,4CAAkBF,YAAY;AACzCC,QAAM,kBADmC;AAEzCD;AAFyC,CAAZ,CAAxB;;AAKA,MAAMG,sCAAe,OAAO,EAAEF,MAAM,eAAR,EAAP,CAArB",
      "file": "actions.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "sourcesContent": [
        "import { marshallMessage } from './messageHelpers';\n\nexport const incomingMessage = ({ message }) => ({\n  type: 'incoming-message',\n  message: marshallMessage(message),\n});\n\nexport const platformMessage = message => ({\n  type: 'platform-message',\n  message,\n});\n\nexport const adapterReady = () => ({ type: 'adapter-ready' });\n"
      ]
    },
    "mtime": 1523080631122
  },
  "{\"filename\":\"/app/bot/adapters/discordJs/handlers.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/adapters/discordJs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/adapters/discordJs/handlers.js",
      "filenameRelative": "/app/bot/adapters/discordJs/handlers.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "handlers.js",
      "sourceFileName": "handlers.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/adapters/discordJs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "handlers"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst logPrefix = 'Adapter[discordJs]:';\n\nconst wait = t => new Promise(r => setTimeout(r, t));\n\nconst makeMessage = reaction => {\n  switch (reaction.contentType) {\n    case 'text':\n    case 'embed':\n      return reaction.content;\n    case 'nlp-response':\n      return reaction.fulfillment;\n    default:\n      return;\n  }\n};\n\nconst platformActions = {\n  'default-action'(client, reaction) {\n    console.warn(`${logPrefix} I don't know what to do with reaction type: ${reaction.type}`);\n  },\n  ignore() {\n    return;\n  },\n  error(_, reaction) {\n    console.log('errored Reaction', reaction);\n    return console.error(`${logPrefix} I have an error: ${reaction.error}`);\n  },\n  'message-reply'(_, reaction) {\n    const { input, message } = reaction;\n    const { channel } = input.message;\n    channel.startTyping();\n    wait(1000).then(() => channel.send(makeMessage(message)) && channel.stopTyping());\n  },\n  connect(client, reaction) {\n    const { token } = reaction;\n    client.login(token);\n  },\n  'set-presence'(client, reaction) {\n    const { presence } = reaction;\n    client.user.setPresence(presence);\n  },\n  'adapter-ready'(client, reaction) {\n    console.log(`${logPrefix} logged in as ${client.user.tag}`);\n  }\n};\n\nconst getAction = actionType => actionType in platformActions ? platformActions[actionType] : platformActions['default-action'];\n\nexports.default = client => action => {\n  getAction(action.type)(client, action);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZXJzLmpzIl0sIm5hbWVzIjpbImxvZ1ByZWZpeCIsIndhaXQiLCJ0IiwiUHJvbWlzZSIsInIiLCJzZXRUaW1lb3V0IiwibWFrZU1lc3NhZ2UiLCJyZWFjdGlvbiIsImNvbnRlbnRUeXBlIiwiY29udGVudCIsImZ1bGZpbGxtZW50IiwicGxhdGZvcm1BY3Rpb25zIiwiY2xpZW50IiwiY29uc29sZSIsIndhcm4iLCJ0eXBlIiwiaWdub3JlIiwiZXJyb3IiLCJfIiwibG9nIiwiaW5wdXQiLCJtZXNzYWdlIiwiY2hhbm5lbCIsInN0YXJ0VHlwaW5nIiwidGhlbiIsInNlbmQiLCJzdG9wVHlwaW5nIiwiY29ubmVjdCIsInRva2VuIiwibG9naW4iLCJwcmVzZW5jZSIsInVzZXIiLCJzZXRQcmVzZW5jZSIsInRhZyIsImdldEFjdGlvbiIsImFjdGlvblR5cGUiLCJhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTUEsWUFBWSxxQkFBbEI7O0FBRUEsTUFBTUMsT0FBT0MsS0FBSyxJQUFJQyxPQUFKLENBQVlDLEtBQUtDLFdBQVdELENBQVgsRUFBY0YsQ0FBZCxDQUFqQixDQUFsQjs7QUFFQSxNQUFNSSxjQUFjQyxZQUFZO0FBQzlCLFVBQVFBLFNBQVNDLFdBQWpCO0FBQ0UsU0FBSyxNQUFMO0FBQ0EsU0FBSyxPQUFMO0FBQ0UsYUFBT0QsU0FBU0UsT0FBaEI7QUFDRixTQUFLLGNBQUw7QUFDRSxhQUFPRixTQUFTRyxXQUFoQjtBQUNGO0FBQ0U7QUFQSjtBQVNELENBVkQ7O0FBWUEsTUFBTUMsa0JBQWtCO0FBQ3RCLG1CQUFpQkMsTUFBakIsRUFBeUJMLFFBQXpCLEVBQW1DO0FBQ2pDTSxZQUFRQyxJQUFSLENBQ0csR0FBRWQsU0FBVSxnREFDWE8sU0FBU1EsSUFDVixFQUhIO0FBS0QsR0FQcUI7QUFRdEJDLFdBQVM7QUFDUDtBQUNELEdBVnFCO0FBV3RCQyxRQUFNQyxDQUFOLEVBQVNYLFFBQVQsRUFBbUI7QUFDakJNLFlBQVFNLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ1osUUFBaEM7QUFDQSxXQUFPTSxRQUFRSSxLQUFSLENBQWUsR0FBRWpCLFNBQVUscUJBQW9CTyxTQUFTVSxLQUFNLEVBQTlELENBQVA7QUFDRCxHQWRxQjtBQWV0QixrQkFBZ0JDLENBQWhCLEVBQW1CWCxRQUFuQixFQUE2QjtBQUMzQixVQUFNLEVBQUVhLEtBQUYsRUFBU0MsT0FBVCxLQUFxQmQsUUFBM0I7QUFDQSxVQUFNLEVBQUVlLE9BQUYsS0FBY0YsTUFBTUMsT0FBMUI7QUFDQUMsWUFBUUMsV0FBUjtBQUNBdEIsU0FBSyxJQUFMLEVBQVd1QixJQUFYLENBQ0UsTUFBTUYsUUFBUUcsSUFBUixDQUFhbkIsWUFBWWUsT0FBWixDQUFiLEtBQXNDQyxRQUFRSSxVQUFSLEVBRDlDO0FBR0QsR0F0QnFCO0FBdUJ0QkMsVUFBUWYsTUFBUixFQUFnQkwsUUFBaEIsRUFBMEI7QUFDeEIsVUFBTSxFQUFFcUIsS0FBRixLQUFZckIsUUFBbEI7QUFDQUssV0FBT2lCLEtBQVAsQ0FBYUQsS0FBYjtBQUNELEdBMUJxQjtBQTJCdEIsaUJBQWVoQixNQUFmLEVBQXVCTCxRQUF2QixFQUFpQztBQUMvQixVQUFNLEVBQUV1QixRQUFGLEtBQWV2QixRQUFyQjtBQUNBSyxXQUFPbUIsSUFBUCxDQUFZQyxXQUFaLENBQXdCRixRQUF4QjtBQUNELEdBOUJxQjtBQStCdEIsa0JBQWdCbEIsTUFBaEIsRUFBd0JMLFFBQXhCLEVBQWtDO0FBQ2hDTSxZQUFRTSxHQUFSLENBQWEsR0FBRW5CLFNBQVUsaUJBQWdCWSxPQUFPbUIsSUFBUCxDQUFZRSxHQUFJLEVBQXpEO0FBQ0Q7QUFqQ3FCLENBQXhCOztBQW9DQSxNQUFNQyxZQUFZQyxjQUNoQkEsY0FBY3hCLGVBQWQsR0FDSUEsZ0JBQWdCd0IsVUFBaEIsQ0FESixHQUVJeEIsZ0JBQWdCLGdCQUFoQixDQUhOOztrQkFLZUMsVUFBVXdCLFVBQVU7QUFDakNGLFlBQVVFLE9BQU9yQixJQUFqQixFQUF1QkgsTUFBdkIsRUFBK0J3QixNQUEvQjtBQUNELEMiLCJmaWxlIjoiaGFuZGxlcnMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QvYWRhcHRlcnMvZGlzY29yZEpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbG9nUHJlZml4ID0gJ0FkYXB0ZXJbZGlzY29yZEpzXTonO1xuXG5jb25zdCB3YWl0ID0gdCA9PiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgdCkpO1xuXG5jb25zdCBtYWtlTWVzc2FnZSA9IHJlYWN0aW9uID0+IHtcbiAgc3dpdGNoIChyZWFjdGlvbi5jb250ZW50VHlwZSkge1xuICAgIGNhc2UgJ3RleHQnOlxuICAgIGNhc2UgJ2VtYmVkJzpcbiAgICAgIHJldHVybiByZWFjdGlvbi5jb250ZW50O1xuICAgIGNhc2UgJ25scC1yZXNwb25zZSc6XG4gICAgICByZXR1cm4gcmVhY3Rpb24uZnVsZmlsbG1lbnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybjtcbiAgfVxufTtcblxuY29uc3QgcGxhdGZvcm1BY3Rpb25zID0ge1xuICAnZGVmYXVsdC1hY3Rpb24nKGNsaWVudCwgcmVhY3Rpb24pIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgJHtsb2dQcmVmaXh9IEkgZG9uJ3Qga25vdyB3aGF0IHRvIGRvIHdpdGggcmVhY3Rpb24gdHlwZTogJHtcbiAgICAgICAgcmVhY3Rpb24udHlwZVxuICAgICAgfWAsXG4gICAgKTtcbiAgfSxcbiAgaWdub3JlKCkge1xuICAgIHJldHVybjtcbiAgfSxcbiAgZXJyb3IoXywgcmVhY3Rpb24pIHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3JlZCBSZWFjdGlvbicsIHJlYWN0aW9uKVxuICAgIHJldHVybiBjb25zb2xlLmVycm9yKGAke2xvZ1ByZWZpeH0gSSBoYXZlIGFuIGVycm9yOiAke3JlYWN0aW9uLmVycm9yfWApO1xuICB9LFxuICAnbWVzc2FnZS1yZXBseScoXywgcmVhY3Rpb24pIHtcbiAgICBjb25zdCB7IGlucHV0LCBtZXNzYWdlIH0gPSByZWFjdGlvbjtcbiAgICBjb25zdCB7IGNoYW5uZWwgfSA9IGlucHV0Lm1lc3NhZ2U7XG4gICAgY2hhbm5lbC5zdGFydFR5cGluZygpO1xuICAgIHdhaXQoMTAwMCkudGhlbihcbiAgICAgICgpID0+IGNoYW5uZWwuc2VuZChtYWtlTWVzc2FnZShtZXNzYWdlKSkgJiYgY2hhbm5lbC5zdG9wVHlwaW5nKCksXG4gICAgKTtcbiAgfSxcbiAgY29ubmVjdChjbGllbnQsIHJlYWN0aW9uKSB7XG4gICAgY29uc3QgeyB0b2tlbiB9ID0gcmVhY3Rpb247XG4gICAgY2xpZW50LmxvZ2luKHRva2VuKTtcbiAgfSxcbiAgJ3NldC1wcmVzZW5jZScoY2xpZW50LCByZWFjdGlvbikge1xuICAgIGNvbnN0IHsgcHJlc2VuY2UgfSA9IHJlYWN0aW9uO1xuICAgIGNsaWVudC51c2VyLnNldFByZXNlbmNlKHByZXNlbmNlKTtcbiAgfSxcbiAgJ2FkYXB0ZXItcmVhZHknKGNsaWVudCwgcmVhY3Rpb24pIHtcbiAgICBjb25zb2xlLmxvZyhgJHtsb2dQcmVmaXh9IGxvZ2dlZCBpbiBhcyAke2NsaWVudC51c2VyLnRhZ31gKTtcbiAgfSxcbn07XG5cbmNvbnN0IGdldEFjdGlvbiA9IGFjdGlvblR5cGUgPT5cbiAgYWN0aW9uVHlwZSBpbiBwbGF0Zm9ybUFjdGlvbnNcbiAgICA/IHBsYXRmb3JtQWN0aW9uc1thY3Rpb25UeXBlXVxuICAgIDogcGxhdGZvcm1BY3Rpb25zWydkZWZhdWx0LWFjdGlvbiddO1xuXG5leHBvcnQgZGVmYXVsdCBjbGllbnQgPT4gYWN0aW9uID0+IHtcbiAgZ2V0QWN0aW9uKGFjdGlvbi50eXBlKShjbGllbnQsIGFjdGlvbik7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "handlers.js"
      ],
      "names": [
        "logPrefix",
        "wait",
        "t",
        "Promise",
        "r",
        "setTimeout",
        "makeMessage",
        "reaction",
        "contentType",
        "content",
        "fulfillment",
        "platformActions",
        "client",
        "console",
        "warn",
        "type",
        "ignore",
        "error",
        "_",
        "log",
        "input",
        "message",
        "channel",
        "startTyping",
        "then",
        "send",
        "stopTyping",
        "connect",
        "token",
        "login",
        "presence",
        "user",
        "setPresence",
        "tag",
        "getAction",
        "actionType",
        "action"
      ],
      "mappings": ";;;;;AAAA,MAAMA,YAAY,qBAAlB;;AAEA,MAAMC,OAAOC,KAAK,IAAIC,OAAJ,CAAYC,KAAKC,WAAWD,CAAX,EAAcF,CAAd,CAAjB,CAAlB;;AAEA,MAAMI,cAAcC,YAAY;AAC9B,UAAQA,SAASC,WAAjB;AACE,SAAK,MAAL;AACA,SAAK,OAAL;AACE,aAAOD,SAASE,OAAhB;AACF,SAAK,cAAL;AACE,aAAOF,SAASG,WAAhB;AACF;AACE;AAPJ;AASD,CAVD;;AAYA,MAAMC,kBAAkB;AACtB,mBAAiBC,MAAjB,EAAyBL,QAAzB,EAAmC;AACjCM,YAAQC,IAAR,CACG,GAAEd,SAAU,gDACXO,SAASQ,IACV,EAHH;AAKD,GAPqB;AAQtBC,WAAS;AACP;AACD,GAVqB;AAWtBC,QAAMC,CAAN,EAASX,QAAT,EAAmB;AACjBM,YAAQM,GAAR,CAAY,kBAAZ,EAAgCZ,QAAhC;AACA,WAAOM,QAAQI,KAAR,CAAe,GAAEjB,SAAU,qBAAoBO,SAASU,KAAM,EAA9D,CAAP;AACD,GAdqB;AAetB,kBAAgBC,CAAhB,EAAmBX,QAAnB,EAA6B;AAC3B,UAAM,EAAEa,KAAF,EAASC,OAAT,KAAqBd,QAA3B;AACA,UAAM,EAAEe,OAAF,KAAcF,MAAMC,OAA1B;AACAC,YAAQC,WAAR;AACAtB,SAAK,IAAL,EAAWuB,IAAX,CACE,MAAMF,QAAQG,IAAR,CAAanB,YAAYe,OAAZ,CAAb,KAAsCC,QAAQI,UAAR,EAD9C;AAGD,GAtBqB;AAuBtBC,UAAQf,MAAR,EAAgBL,QAAhB,EAA0B;AACxB,UAAM,EAAEqB,KAAF,KAAYrB,QAAlB;AACAK,WAAOiB,KAAP,CAAaD,KAAb;AACD,GA1BqB;AA2BtB,iBAAehB,MAAf,EAAuBL,QAAvB,EAAiC;AAC/B,UAAM,EAAEuB,QAAF,KAAevB,QAArB;AACAK,WAAOmB,IAAP,CAAYC,WAAZ,CAAwBF,QAAxB;AACD,GA9BqB;AA+BtB,kBAAgBlB,MAAhB,EAAwBL,QAAxB,EAAkC;AAChCM,YAAQM,GAAR,CAAa,GAAEnB,SAAU,iBAAgBY,OAAOmB,IAAP,CAAYE,GAAI,EAAzD;AACD;AAjCqB,CAAxB;;AAoCA,MAAMC,YAAYC,cAChBA,cAAcxB,eAAd,GACIA,gBAAgBwB,UAAhB,CADJ,GAEIxB,gBAAgB,gBAAhB,CAHN;;kBAKeC,UAAUwB,UAAU;AACjCF,YAAUE,OAAOrB,IAAjB,EAAuBH,MAAvB,EAA+BwB,MAA/B;AACD,C",
      "file": "handlers.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "sourcesContent": [
        "const logPrefix = 'Adapter[discordJs]:';\n\nconst wait = t => new Promise(r => setTimeout(r, t));\n\nconst makeMessage = reaction => {\n  switch (reaction.contentType) {\n    case 'text':\n    case 'embed':\n      return reaction.content;\n    case 'nlp-response':\n      return reaction.fulfillment;\n    default:\n      return;\n  }\n};\n\nconst platformActions = {\n  'default-action'(client, reaction) {\n    console.warn(\n      `${logPrefix} I don't know what to do with reaction type: ${\n        reaction.type\n      }`,\n    );\n  },\n  ignore() {\n    return;\n  },\n  error(_, reaction) {\n    console.log('errored Reaction', reaction)\n    return console.error(`${logPrefix} I have an error: ${reaction.error}`);\n  },\n  'message-reply'(_, reaction) {\n    const { input, message } = reaction;\n    const { channel } = input.message;\n    channel.startTyping();\n    wait(1000).then(\n      () => channel.send(makeMessage(message)) && channel.stopTyping(),\n    );\n  },\n  connect(client, reaction) {\n    const { token } = reaction;\n    client.login(token);\n  },\n  'set-presence'(client, reaction) {\n    const { presence } = reaction;\n    client.user.setPresence(presence);\n  },\n  'adapter-ready'(client, reaction) {\n    console.log(`${logPrefix} logged in as ${client.user.tag}`);\n  },\n};\n\nconst getAction = actionType =>\n  actionType in platformActions\n    ? platformActions[actionType]\n    : platformActions['default-action'];\n\nexport default client => action => {\n  getAction(action.type)(client, action);\n};\n"
      ]
    },
    "mtime": 1523082381053
  },
  "{\"filename\":\"/app/bot/adapters/discordJs/marshalling.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/adapters/discordJs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/adapters/discordJs/marshalling.js",
      "filenameRelative": "/app/bot/adapters/discordJs/marshalling.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "marshalling.js",
      "sourceFileName": "marshalling.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/adapters/discordJs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "marshalling"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = ({ message }) => ({\n  type: 'incoming-message',\n  message: {\n    msgId: message.id,\n    content: message.content,\n    authorId: message.author.id,\n    authorName: message.author.username,\n    channel: message.channel.id\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcnNoYWxsaW5nLmpzIl0sIm5hbWVzIjpbIm1lc3NhZ2UiLCJ0eXBlIiwibXNnSWQiLCJpZCIsImNvbnRlbnQiLCJhdXRob3JJZCIsImF1dGhvciIsImF1dGhvck5hbWUiLCJ1c2VybmFtZSIsImNoYW5uZWwiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFBZSxDQUFDLEVBQUVBLE9BQUYsRUFBRCxNQUFrQjtBQUMvQkMsUUFBTSxrQkFEeUI7QUFFL0JELFdBQVM7QUFDUEUsV0FBT0YsUUFBUUcsRUFEUjtBQUVQQyxhQUFTSixRQUFRSSxPQUZWO0FBR1BDLGNBQVVMLFFBQVFNLE1BQVIsQ0FBZUgsRUFIbEI7QUFJUEksZ0JBQVlQLFFBQVFNLE1BQVIsQ0FBZUUsUUFKcEI7QUFLUEMsYUFBU1QsUUFBUVMsT0FBUixDQUFnQk47QUFMbEI7QUFGc0IsQ0FBbEIsQyIsImZpbGUiOiJtYXJzaGFsbGluZy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9hZGFwdGVycy9kaXNjb3JkSnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAoeyBtZXNzYWdlIH0pID0+ICh7XG4gIHR5cGU6ICdpbmNvbWluZy1tZXNzYWdlJyxcbiAgbWVzc2FnZToge1xuICAgIG1zZ0lkOiBtZXNzYWdlLmlkLFxuICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICBhdXRob3JJZDogbWVzc2FnZS5hdXRob3IuaWQsXG4gICAgYXV0aG9yTmFtZTogbWVzc2FnZS5hdXRob3IudXNlcm5hbWUsXG4gICAgY2hhbm5lbDogbWVzc2FnZS5jaGFubmVsLmlkLFxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "marshalling.js"
      ],
      "names": [
        "message",
        "type",
        "msgId",
        "id",
        "content",
        "authorId",
        "author",
        "authorName",
        "username",
        "channel"
      ],
      "mappings": ";;;;;;kBAAe,CAAC,EAAEA,OAAF,EAAD,MAAkB;AAC/BC,QAAM,kBADyB;AAE/BD,WAAS;AACPE,WAAOF,QAAQG,EADR;AAEPC,aAASJ,QAAQI,OAFV;AAGPC,cAAUL,QAAQM,MAAR,CAAeH,EAHlB;AAIPI,gBAAYP,QAAQM,MAAR,CAAeE,QAJpB;AAKPC,aAAST,QAAQS,OAAR,CAAgBN;AALlB;AAFsB,CAAlB,C",
      "file": "marshalling.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "sourcesContent": [
        "export default ({ message }) => ({\n  type: 'incoming-message',\n  message: {\n    msgId: message.id,\n    content: message.content,\n    authorId: message.author.id,\n    authorName: message.author.username,\n    channel: message.channel.id,\n  },\n})\n"
      ]
    },
    "mtime": 1522458936009
  },
  "{\"filename\":\"/app/bot/skills/conversation/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/conversation\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../memory/shortTerm",
            "imported": [
              "addTopic"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "addTopic",
                "local": "addTopic"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ctx"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ctx",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/conversation/index.js",
      "filenameRelative": "/app/bot/skills/conversation/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/skills/conversation",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/conversation",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (ctx) {\n  const message = ctx.getMessage();\n  let conversation = conversations.get(ctx.getAuthorId());\n  if (conversation) {\n    conversation.messages.push(message);\n    conversation.isActive = true;\n  } else {\n    conversation = conversationFactory(message);\n  }\n  conversations.set(ctx.getAuthorId(), conversation);\n  ctx.set('conversation', conversation);\n  return _extends({}, ctx, { conversation });\n};\n\nvar _shortTerm = require('../memory/shortTerm');\n\nconst conversations = (0, _shortTerm.addTopic)('conversations', { stdTTL: 120 });\nconst conversationFactory = input => ({\n  id: input.authorId,\n  lastSeen: new Date(),\n  messages: [input],\n  isActive: false\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImN0eCIsIm1lc3NhZ2UiLCJnZXRNZXNzYWdlIiwiY29udmVyc2F0aW9uIiwiY29udmVyc2F0aW9ucyIsImdldCIsImdldEF1dGhvcklkIiwibWVzc2FnZXMiLCJwdXNoIiwiaXNBY3RpdmUiLCJjb252ZXJzYXRpb25GYWN0b3J5Iiwic2V0Iiwic3RkVFRMIiwiaW5wdXQiLCJpZCIsImF1dGhvcklkIiwibGFzdFNlZW4iLCJEYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztrQkFVZSxVQUFTQSxHQUFULEVBQWM7QUFDM0IsUUFBTUMsVUFBVUQsSUFBSUUsVUFBSixFQUFoQjtBQUNBLE1BQUlDLGVBQWVDLGNBQWNDLEdBQWQsQ0FBa0JMLElBQUlNLFdBQUosRUFBbEIsQ0FBbkI7QUFDQSxNQUFJSCxZQUFKLEVBQWtCO0FBQ2hCQSxpQkFBYUksUUFBYixDQUFzQkMsSUFBdEIsQ0FBMkJQLE9BQTNCO0FBQ0FFLGlCQUFhTSxRQUFiLEdBQXdCLElBQXhCO0FBQ0QsR0FIRCxNQUdPO0FBQ0xOLG1CQUFlTyxvQkFBb0JULE9BQXBCLENBQWY7QUFDRDtBQUNERyxnQkFBY08sR0FBZCxDQUFrQlgsSUFBSU0sV0FBSixFQUFsQixFQUFxQ0gsWUFBckM7QUFDQUgsTUFBSVcsR0FBSixDQUFRLGNBQVIsRUFBd0JSLFlBQXhCO0FBQ0Esc0JBQVlILEdBQVosSUFBaUJHLFlBQWpCO0FBQ0QsQzs7QUF0QkQ7O0FBRUEsTUFBTUMsZ0JBQWdCLHlCQUFTLGVBQVQsRUFBMEIsRUFBRVEsUUFBUSxHQUFWLEVBQTFCLENBQXRCO0FBQ0EsTUFBTUYsc0JBQXNCRyxVQUFVO0FBQ3BDQyxNQUFJRCxNQUFNRSxRQUQwQjtBQUVwQ0MsWUFBVSxJQUFJQyxJQUFKLEVBRjBCO0FBR3BDVixZQUFVLENBQUNNLEtBQUQsQ0FIMEI7QUFJcENKLFlBQVU7QUFKMEIsQ0FBVixDQUE1QiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9za2lsbHMvY29udmVyc2F0aW9uIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVG9waWMgfSBmcm9tICcuLi9tZW1vcnkvc2hvcnRUZXJtJztcblxuY29uc3QgY29udmVyc2F0aW9ucyA9IGFkZFRvcGljKCdjb252ZXJzYXRpb25zJywgeyBzdGRUVEw6IDEyMCB9KTtcbmNvbnN0IGNvbnZlcnNhdGlvbkZhY3RvcnkgPSBpbnB1dCA9PiAoe1xuICBpZDogaW5wdXQuYXV0aG9ySWQsXG4gIGxhc3RTZWVuOiBuZXcgRGF0ZSgpLFxuICBtZXNzYWdlczogW2lucHV0XSxcbiAgaXNBY3RpdmU6IGZhbHNlLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGN0eCkge1xuICBjb25zdCBtZXNzYWdlID0gY3R4LmdldE1lc3NhZ2UoKTtcbiAgbGV0IGNvbnZlcnNhdGlvbiA9IGNvbnZlcnNhdGlvbnMuZ2V0KGN0eC5nZXRBdXRob3JJZCgpKTtcbiAgaWYgKGNvbnZlcnNhdGlvbikge1xuICAgIGNvbnZlcnNhdGlvbi5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIGNvbnZlcnNhdGlvbi5pc0FjdGl2ZSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29udmVyc2F0aW9uID0gY29udmVyc2F0aW9uRmFjdG9yeShtZXNzYWdlKTtcbiAgfVxuICBjb252ZXJzYXRpb25zLnNldChjdHguZ2V0QXV0aG9ySWQoKSwgY29udmVyc2F0aW9uKTtcbiAgY3R4LnNldCgnY29udmVyc2F0aW9uJywgY29udmVyc2F0aW9uKTtcbiAgcmV0dXJuIHsgLi4uY3R4LCBjb252ZXJzYXRpb24gfTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "ctx",
        "message",
        "getMessage",
        "conversation",
        "conversations",
        "get",
        "getAuthorId",
        "messages",
        "push",
        "isActive",
        "conversationFactory",
        "set",
        "stdTTL",
        "input",
        "id",
        "authorId",
        "lastSeen",
        "Date"
      ],
      "mappings": ";;;;;;;;kBAUe,UAASA,GAAT,EAAc;AAC3B,QAAMC,UAAUD,IAAIE,UAAJ,EAAhB;AACA,MAAIC,eAAeC,cAAcC,GAAd,CAAkBL,IAAIM,WAAJ,EAAlB,CAAnB;AACA,MAAIH,YAAJ,EAAkB;AAChBA,iBAAaI,QAAb,CAAsBC,IAAtB,CAA2BP,OAA3B;AACAE,iBAAaM,QAAb,GAAwB,IAAxB;AACD,GAHD,MAGO;AACLN,mBAAeO,oBAAoBT,OAApB,CAAf;AACD;AACDG,gBAAcO,GAAd,CAAkBX,IAAIM,WAAJ,EAAlB,EAAqCH,YAArC;AACAH,MAAIW,GAAJ,CAAQ,cAAR,EAAwBR,YAAxB;AACA,sBAAYH,GAAZ,IAAiBG,YAAjB;AACD,C;;AAtBD;;AAEA,MAAMC,gBAAgB,yBAAS,eAAT,EAA0B,EAAEQ,QAAQ,GAAV,EAA1B,CAAtB;AACA,MAAMF,sBAAsBG,UAAU;AACpCC,MAAID,MAAME,QAD0B;AAEpCC,YAAU,IAAIC,IAAJ,EAF0B;AAGpCV,YAAU,CAACM,KAAD,CAH0B;AAIpCJ,YAAU;AAJ0B,CAAV,CAA5B",
      "file": "index.js",
      "sourceRoot": "/app/bot/skills/conversation",
      "sourcesContent": [
        "import { addTopic } from '../memory/shortTerm';\n\nconst conversations = addTopic('conversations', { stdTTL: 120 });\nconst conversationFactory = input => ({\n  id: input.authorId,\n  lastSeen: new Date(),\n  messages: [input],\n  isActive: false,\n});\n\nexport default function(ctx) {\n  const message = ctx.getMessage();\n  let conversation = conversations.get(ctx.getAuthorId());\n  if (conversation) {\n    conversation.messages.push(message);\n    conversation.isActive = true;\n  } else {\n    conversation = conversationFactory(message);\n  }\n  conversations.set(ctx.getAuthorId(), conversation);\n  ctx.set('conversation', conversation);\n  return { ...ctx, conversation };\n}\n"
      ]
    },
    "mtime": 1523326464704
  },
  "{\"filename\":\"/app/bot/skills/memory/shortTerm.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/memory\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "node-cache",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "NodeCache"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "addTopic",
            "getTopic"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "addTopic",
              "exported": "addTopic"
            },
            {
              "kind": "local",
              "local": "getTopic",
              "exported": "getTopic"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/memory/shortTerm.js",
      "filenameRelative": "/app/bot/skills/memory/shortTerm.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "shortTerm.js",
      "sourceFileName": "shortTerm.js",
      "sourceRoot": "/app/bot/skills/memory",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/memory",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "shortTerm"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTopic = exports.addTopic = undefined;\n\nvar _nodeCache = require('node-cache');\n\nvar _nodeCache2 = _interopRequireDefault(_nodeCache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// this will be mutated\nconst topics = {};\n\nconst getAllTopics = () => topics;\n\nconst addTopic = exports.addTopic = (topicId, options = {}) => getTopic(topicId) || Object.assign(topics, { [topicId]: new _nodeCache2.default(options) })[topicId];\n\nconst getTopic = exports.getTopic = topicId => topics.hasOwnProperty(topicId) && topics[topicId];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0VGVybS5qcyJdLCJuYW1lcyI6WyJ0b3BpY3MiLCJnZXRBbGxUb3BpY3MiLCJhZGRUb3BpYyIsInRvcGljSWQiLCJvcHRpb25zIiwiZ2V0VG9waWMiLCJPYmplY3QiLCJhc3NpZ24iLCJoYXNPd25Qcm9wZXJ0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7QUFFQTtBQUNBLE1BQU1BLFNBQVMsRUFBZjs7QUFFQSxNQUFNQyxlQUFlLE1BQU1ELE1BQTNCOztBQUVPLE1BQU1FLDhCQUFXLENBQUNDLE9BQUQsRUFBVUMsVUFBVSxFQUFwQixLQUN0QkMsU0FBU0YsT0FBVCxLQUNBRyxPQUFPQyxNQUFQLENBQWNQLE1BQWQsRUFBc0IsRUFBRSxDQUFDRyxPQUFELEdBQVcsd0JBQWNDLE9BQWQsQ0FBYixFQUF0QixFQUE2REQsT0FBN0QsQ0FGSzs7QUFJQSxNQUFNRSw4QkFBV0YsV0FDdEJILE9BQU9RLGNBQVAsQ0FBc0JMLE9BQXRCLEtBQWtDSCxPQUFPRyxPQUFQLENBRDdCIiwiZmlsZSI6InNob3J0VGVybS5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdC9za2lsbHMvbWVtb3J5Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5vZGVDYWNoZSBmcm9tICdub2RlLWNhY2hlJztcblxuLy8gdGhpcyB3aWxsIGJlIG11dGF0ZWRcbmNvbnN0IHRvcGljcyA9IHt9O1xuXG5jb25zdCBnZXRBbGxUb3BpY3MgPSAoKSA9PiB0b3BpY3M7XG5cbmV4cG9ydCBjb25zdCBhZGRUb3BpYyA9ICh0b3BpY0lkLCBvcHRpb25zID0ge30pID0+XG4gIGdldFRvcGljKHRvcGljSWQpIHx8XG4gIE9iamVjdC5hc3NpZ24odG9waWNzLCB7IFt0b3BpY0lkXTogbmV3IE5vZGVDYWNoZShvcHRpb25zKSB9KVt0b3BpY0lkXTtcblxuZXhwb3J0IGNvbnN0IGdldFRvcGljID0gdG9waWNJZCA9PlxuICB0b3BpY3MuaGFzT3duUHJvcGVydHkodG9waWNJZCkgJiYgdG9waWNzW3RvcGljSWRdO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "shortTerm.js"
      ],
      "names": [
        "topics",
        "getAllTopics",
        "addTopic",
        "topicId",
        "options",
        "getTopic",
        "Object",
        "assign",
        "hasOwnProperty"
      ],
      "mappings": ";;;;;;;AAAA;;;;;;AAEA;AACA,MAAMA,SAAS,EAAf;;AAEA,MAAMC,eAAe,MAAMD,MAA3B;;AAEO,MAAME,8BAAW,CAACC,OAAD,EAAUC,UAAU,EAApB,KACtBC,SAASF,OAAT,KACAG,OAAOC,MAAP,CAAcP,MAAd,EAAsB,EAAE,CAACG,OAAD,GAAW,wBAAcC,OAAd,CAAb,EAAtB,EAA6DD,OAA7D,CAFK;;AAIA,MAAME,8BAAWF,WACtBH,OAAOQ,cAAP,CAAsBL,OAAtB,KAAkCH,OAAOG,OAAP,CAD7B",
      "file": "shortTerm.js",
      "sourceRoot": "/app/bot/skills/memory",
      "sourcesContent": [
        "import NodeCache from 'node-cache';\n\n// this will be mutated\nconst topics = {};\n\nconst getAllTopics = () => topics;\n\nexport const addTopic = (topicId, options = {}) =>\n  getTopic(topicId) ||\n  Object.assign(topics, { [topicId]: new NodeCache(options) })[topicId];\n\nexport const getTopic = topicId =>\n  topics.hasOwnProperty(topicId) && topics[topicId];\n"
      ]
    },
    "mtime": 1523080925630
  },
  "{\"filename\":\"/app/bot/contexts.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "contextFactory",
            "asyncUnwrapContext"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "contextFactory",
              "exported": "contextFactory"
            },
            {
              "kind": "local",
              "local": "asyncUnwrapContext",
              "exported": "asyncUnwrapContext"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/contexts.js",
      "filenameRelative": "/app/bot/contexts.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "contexts.js",
      "sourceFileName": "contexts.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "contexts"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// export const contextFactory = (services, platform) => input => ({\n//   startedAt: new Date(),\n//   platform,\n//   message: input.message,\n//   input,\n//   services,\n//   reaction: { type: 'ignore' },\n//   analysis: {},\n//   handled: false,\n// });\n\nconst contextFactory = exports.contextFactory = (services, platform) => input => {\n\n  return {\n    startedAt: new Date(),\n    platform,\n    message: input.message,\n    input,\n    services,\n    reaction: {},\n    analysis: {},\n    handled: false\n  };\n};\n\nconst asyncUnwrapContext = exports.asyncUnwrapContext = async ctx => (await ctx).reaction;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRleHRzLmpzIl0sIm5hbWVzIjpbImNvbnRleHRGYWN0b3J5Iiwic2VydmljZXMiLCJwbGF0Zm9ybSIsImlucHV0Iiwic3RhcnRlZEF0IiwiRGF0ZSIsIm1lc3NhZ2UiLCJyZWFjdGlvbiIsImFuYWx5c2lzIiwiaGFuZGxlZCIsImFzeW5jVW53cmFwQ29udGV4dCIsImN0eCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTyxNQUFNQSwwQ0FBaUIsQ0FBQ0MsUUFBRCxFQUFXQyxRQUFYLEtBQXdCQyxTQUFTOztBQUU3RCxTQUFRO0FBQ05DLGVBQVcsSUFBSUMsSUFBSixFQURMO0FBRU5ILFlBRk07QUFHTkksYUFBU0gsTUFBTUcsT0FIVDtBQUlOSCxTQUpNO0FBS05GLFlBTE07QUFNTk0sY0FBVSxFQU5KO0FBT05DLGNBQVUsRUFQSjtBQVFOQyxhQUFTO0FBUkgsR0FBUjtBQVVELENBWk07O0FBY0EsTUFBTUMsa0RBQXFCLE1BQU1DLEdBQU4sSUFBYSxDQUFDLE1BQU1BLEdBQVAsRUFBWUosUUFBcEQiLCJmaWxlIjoiY29udGV4dHMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHBvcnQgY29uc3QgY29udGV4dEZhY3RvcnkgPSAoc2VydmljZXMsIHBsYXRmb3JtKSA9PiBpbnB1dCA9PiAoe1xuLy8gICBzdGFydGVkQXQ6IG5ldyBEYXRlKCksXG4vLyAgIHBsYXRmb3JtLFxuLy8gICBtZXNzYWdlOiBpbnB1dC5tZXNzYWdlLFxuLy8gICBpbnB1dCxcbi8vICAgc2VydmljZXMsXG4vLyAgIHJlYWN0aW9uOiB7IHR5cGU6ICdpZ25vcmUnIH0sXG4vLyAgIGFuYWx5c2lzOiB7fSxcbi8vICAgaGFuZGxlZDogZmFsc2UsXG4vLyB9KTtcblxuZXhwb3J0IGNvbnN0IGNvbnRleHRGYWN0b3J5ID0gKHNlcnZpY2VzLCBwbGF0Zm9ybSkgPT4gaW5wdXQgPT4ge1xuICBcbiAgcmV0dXJuICh7XG4gICAgc3RhcnRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIHBsYXRmb3JtLFxuICAgIG1lc3NhZ2U6IGlucHV0Lm1lc3NhZ2UsXG4gICAgaW5wdXQsXG4gICAgc2VydmljZXMsXG4gICAgcmVhY3Rpb246IHt9LFxuICAgIGFuYWx5c2lzOiB7fSxcbiAgICBoYW5kbGVkOiBmYWxzZSxcbiAgfSlcbn07XG5cbmV4cG9ydCBjb25zdCBhc3luY1Vud3JhcENvbnRleHQgPSBhc3luYyBjdHggPT4gKGF3YWl0IGN0eCkucmVhY3Rpb247XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "contexts.js"
      ],
      "names": [
        "contextFactory",
        "services",
        "platform",
        "input",
        "startedAt",
        "Date",
        "message",
        "reaction",
        "analysis",
        "handled",
        "asyncUnwrapContext",
        "ctx"
      ],
      "mappings": ";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAMA,0CAAiB,CAACC,QAAD,EAAWC,QAAX,KAAwBC,SAAS;;AAE7D,SAAQ;AACNC,eAAW,IAAIC,IAAJ,EADL;AAENH,YAFM;AAGNI,aAASH,MAAMG,OAHT;AAINH,SAJM;AAKNF,YALM;AAMNM,cAAU,EANJ;AAONC,cAAU,EAPJ;AAQNC,aAAS;AARH,GAAR;AAUD,CAZM;;AAcA,MAAMC,kDAAqB,MAAMC,GAAN,IAAa,CAAC,MAAMA,GAAP,EAAYJ,QAApD",
      "file": "contexts.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "// export const contextFactory = (services, platform) => input => ({\n//   startedAt: new Date(),\n//   platform,\n//   message: input.message,\n//   input,\n//   services,\n//   reaction: { type: 'ignore' },\n//   analysis: {},\n//   handled: false,\n// });\n\nexport const contextFactory = (services, platform) => input => {\n  \n  return ({\n    startedAt: new Date(),\n    platform,\n    message: input.message,\n    input,\n    services,\n    reaction: {},\n    analysis: {},\n    handled: false,\n  })\n};\n\nexport const asyncUnwrapContext = async ctx => (await ctx).reaction;\n"
      ]
    },
    "mtime": 1523082737193
  },
  "{\"filename\":\"/app/servers/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/servers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./web",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getWebServer"
              }
            ]
          },
          {
            "source": "./sockets",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getSocketsServer"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/servers/index.js",
      "filenameRelative": "/app/servers/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/servers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/servers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _web = require('./web');\n\nvar _web2 = _interopRequireDefault(_web);\n\nvar _sockets = require('./sockets');\n\nvar _sockets2 = _interopRequireDefault(_sockets);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import getDatabaseConnection from './database';\n\nexports.default = async () => {\n  const webServer = await (0, _web2.default)();\n  const webSocketServer = await (0, _sockets2.default)(webServer);\n  // const databaseConnection = await getDatabaseConnection();\n\n  return {\n    ws: webServer,\n    wss: webSocketServer\n    // db: databaseConnection,\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndlYlNlcnZlciIsIndlYlNvY2tldFNlcnZlciIsIndzIiwid3NzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFDQTs7a0JBRWUsWUFBWTtBQUN6QixRQUFNQSxZQUFZLE1BQU0sb0JBQXhCO0FBQ0EsUUFBTUMsa0JBQWtCLE1BQU0sdUJBQWlCRCxTQUFqQixDQUE5QjtBQUNBOztBQUVBLFNBQU87QUFDTEUsUUFBSUYsU0FEQztBQUVMRyxTQUFLRjtBQUNMO0FBSEssR0FBUDtBQUtELEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFdlYlNlcnZlciBmcm9tICcuL3dlYic7XG5pbXBvcnQgZ2V0U29ja2V0c1NlcnZlciBmcm9tICcuL3NvY2tldHMnO1xuLy8gaW1wb3J0IGdldERhdGFiYXNlQ29ubmVjdGlvbiBmcm9tICcuL2RhdGFiYXNlJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKCkgPT4ge1xuICBjb25zdCB3ZWJTZXJ2ZXIgPSBhd2FpdCBnZXRXZWJTZXJ2ZXIoKTtcbiAgY29uc3Qgd2ViU29ja2V0U2VydmVyID0gYXdhaXQgZ2V0U29ja2V0c1NlcnZlcih3ZWJTZXJ2ZXIpO1xuICAvLyBjb25zdCBkYXRhYmFzZUNvbm5lY3Rpb24gPSBhd2FpdCBnZXREYXRhYmFzZUNvbm5lY3Rpb24oKTtcblxuICByZXR1cm4ge1xuICAgIHdzOiB3ZWJTZXJ2ZXIsXG4gICAgd3NzOiB3ZWJTb2NrZXRTZXJ2ZXIsXG4gICAgLy8gZGI6IGRhdGFiYXNlQ29ubmVjdGlvbixcbiAgfTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "webServer",
        "webSocketServer",
        "ws",
        "wss"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AACA;;kBAEe,YAAY;AACzB,QAAMA,YAAY,MAAM,oBAAxB;AACA,QAAMC,kBAAkB,MAAM,uBAAiBD,SAAjB,CAA9B;AACA;;AAEA,SAAO;AACLE,QAAIF,SADC;AAELG,SAAKF;AACL;AAHK,GAAP;AAKD,C",
      "file": "index.js",
      "sourceRoot": "/app/servers",
      "sourcesContent": [
        "import getWebServer from './web';\nimport getSocketsServer from './sockets';\n// import getDatabaseConnection from './database';\n\nexport default async () => {\n  const webServer = await getWebServer();\n  const webSocketServer = await getSocketsServer(webServer);\n  // const databaseConnection = await getDatabaseConnection();\n\n  return {\n    ws: webServer,\n    wss: webSocketServer,\n    // db: databaseConnection,\n  };\n};\n"
      ]
    },
    "mtime": 1523081032003
  },
  "{\"filename\":\"/app/servers/web.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/servers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          },
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "morgan"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "./utils/glitchKeepalive",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "keepAlive"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "getApp",
            "getServer",
            "runServer"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "getApp",
              "exported": "getApp"
            },
            {
              "kind": "local",
              "local": "getServer",
              "exported": "getServer"
            },
            {
              "kind": "local",
              "local": "runServer",
              "exported": "runServer"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/servers/web.js",
      "filenameRelative": "/app/servers/web.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "web.js",
      "sourceFileName": "web.js",
      "sourceRoot": "/app/servers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/servers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "web"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runServer = exports.getServer = exports.getApp = undefined;\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _glitchKeepalive = require('./utils/glitchKeepalive');\n\nvar _glitchKeepalive2 = _interopRequireDefault(_glitchKeepalive);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Importamos la libreria con la implementacion de HTTP de Node\n// para poder servir contenido web y express para armar el servidor web\n// morgan es para hacer logs a la consola cuando el servidor procesa una peticion\nconst dialogFlowCredentials = 1;\n\n// Esta primera funcion configura la aplicacion de express que va a\n// correr en el servidor http\n\n\n// Esto es para mantener vivo el proceso cuando usamos Glitch\nconst getApp = exports.getApp = () => new Promise((resolve, reject) => {\n  try {\n    const app = (0, _express2.default)();\n\n    // esta ruta esta aqui para mantener vivo el server con un keepalive\n    app.get('/its-alive', (req, res) => res.json({ isAlive: true }));\n\n    // Aqui va la configuracion del servidor\n\n    // Esto habilita el log a la consola cuando estamos en modo development.\n    // if (process.env.NODE_ENV === 'development') app.use(morgan('tiny'))\n\n    // Aqui se pueden agregar mas rutas\n    // ...\n    app.get('/*', _express2.default.static('static'));\n\n    resolve(app);\n  } catch (err) {\n    reject(err);\n  }\n});\n\n// Esta function crea un servidor http\nconst getServer = exports.getServer = app => Promise.resolve(_http2.default.createServer(app));\n\n// Esta funcion corre el servidor web\nconst runServer = exports.runServer = ({ PORT }) => server => {\n  server.listen(PORT, () => console.log(`Express server running on port ${PORT}`));\n  (0, _glitchKeepalive2.default)();\n  return server;\n};\n\n// Esta es la funcion que vamos a exportar y que se encarga de\n// correr las otras tres funciones en orden.\n\nexports.default = () => getApp().then(getServer).then(runServer(process.env));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYi5qcyJdLCJuYW1lcyI6WyJkaWFsb2dGbG93Q3JlZGVudGlhbHMiLCJnZXRBcHAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImFwcCIsImdldCIsInJlcSIsInJlcyIsImpzb24iLCJpc0FsaXZlIiwic3RhdGljIiwiZXJyIiwiZ2V0U2VydmVyIiwiY3JlYXRlU2VydmVyIiwicnVuU2VydmVyIiwiUE9SVCIsInNlcnZlciIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJ0aGVuIiwicHJvY2VzcyIsImVudiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUdBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUdBOzs7Ozs7QUFSQTtBQUNBO0FBQ0E7QUFRQSxNQUFNQSx3QkFBd0IsQ0FBOUI7O0FBRUE7QUFDQTs7O0FBTkE7QUFPTyxNQUFNQywwQkFBUyxNQUNwQixJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQy9CLE1BQUk7QUFDRixVQUFNQyxNQUFNLHdCQUFaOztBQUVBO0FBQ0FBLFFBQUlDLEdBQUosQ0FBUSxZQUFSLEVBQXNCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjQSxJQUFJQyxJQUFKLENBQVMsRUFBRUMsU0FBUyxJQUFYLEVBQVQsQ0FBcEM7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0FMLFFBQUlDLEdBQUosQ0FBUSxJQUFSLEVBQWMsa0JBQVFLLE1BQVIsQ0FBZSxRQUFmLENBQWQ7O0FBRUFSLFlBQVFFLEdBQVI7QUFDRCxHQWhCRCxDQWdCRSxPQUFPTyxHQUFQLEVBQVk7QUFDWlIsV0FBT1EsR0FBUDtBQUNEO0FBQ0YsQ0FwQkQsQ0FESzs7QUF1QlA7QUFDTyxNQUFNQyxnQ0FBWVIsT0FBT0gsUUFBUUMsT0FBUixDQUFnQixlQUFLVyxZQUFMLENBQWtCVCxHQUFsQixDQUFoQixDQUF6Qjs7QUFFUDtBQUNPLE1BQU1VLGdDQUFZLENBQUMsRUFBRUMsSUFBRixFQUFELEtBQWNDLFVBQVU7QUFDL0NBLFNBQU9DLE1BQVAsQ0FBY0YsSUFBZCxFQUFvQixNQUNsQkcsUUFBUUMsR0FBUixDQUFhLGtDQUFpQ0osSUFBSyxFQUFuRCxDQURGO0FBR0E7QUFDQSxTQUFPQyxNQUFQO0FBQ0QsQ0FOTTs7QUFRUDtBQUNBOztrQkFDZSxNQUNiaEIsU0FDR29CLElBREgsQ0FDUVIsU0FEUixFQUVHUSxJQUZILENBRVFOLFVBQVVPLFFBQVFDLEdBQWxCLENBRlIsQyIsImZpbGUiOiJ3ZWIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXJzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0YW1vcyBsYSBsaWJyZXJpYSBjb24gbGEgaW1wbGVtZW50YWNpb24gZGUgSFRUUCBkZSBOb2RlXG4vLyBwYXJhIHBvZGVyIHNlcnZpciBjb250ZW5pZG8gd2ViIHkgZXhwcmVzcyBwYXJhIGFybWFyIGVsIHNlcnZpZG9yIHdlYlxuLy8gbW9yZ2FuIGVzIHBhcmEgaGFjZXIgbG9ncyBhIGxhIGNvbnNvbGEgY3VhbmRvIGVsIHNlcnZpZG9yIHByb2Nlc2EgdW5hIHBldGljaW9uXG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG4vLyBFc3RvIGVzIHBhcmEgbWFudGVuZXIgdml2byBlbCBwcm9jZXNvIGN1YW5kbyB1c2Ftb3MgR2xpdGNoXG5pbXBvcnQga2VlcEFsaXZlIGZyb20gJy4vdXRpbHMvZ2xpdGNoS2VlcGFsaXZlJztcblxuY29uc3QgZGlhbG9nRmxvd0NyZWRlbnRpYWxzID0gMTtcblxuLy8gRXN0YSBwcmltZXJhIGZ1bmNpb24gY29uZmlndXJhIGxhIGFwbGljYWNpb24gZGUgZXhwcmVzcyBxdWUgdmEgYVxuLy8gY29ycmVyIGVuIGVsIHNlcnZpZG9yIGh0dHBcbmV4cG9ydCBjb25zdCBnZXRBcHAgPSAoKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuICAgICAgLy8gZXN0YSBydXRhIGVzdGEgYXF1aSBwYXJhIG1hbnRlbmVyIHZpdm8gZWwgc2VydmVyIGNvbiB1biBrZWVwYWxpdmVcbiAgICAgIGFwcC5nZXQoJy9pdHMtYWxpdmUnLCAocmVxLCByZXMpID0+IHJlcy5qc29uKHsgaXNBbGl2ZTogdHJ1ZSB9KSk7XG5cbiAgICAgIC8vIEFxdWkgdmEgbGEgY29uZmlndXJhY2lvbiBkZWwgc2Vydmlkb3JcblxuICAgICAgLy8gRXN0byBoYWJpbGl0YSBlbCBsb2cgYSBsYSBjb25zb2xhIGN1YW5kbyBlc3RhbW9zIGVuIG1vZG8gZGV2ZWxvcG1lbnQuXG4gICAgICAvLyBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIGFwcC51c2UobW9yZ2FuKCd0aW55JykpXG5cbiAgICAgIC8vIEFxdWkgc2UgcHVlZGVuIGFncmVnYXIgbWFzIHJ1dGFzXG4gICAgICAvLyAuLi5cbiAgICAgIGFwcC5nZXQoJy8qJywgZXhwcmVzcy5zdGF0aWMoJ3N0YXRpYycpKTtcblxuICAgICAgcmVzb2x2ZShhcHApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuICB9KTtcblxuLy8gRXN0YSBmdW5jdGlvbiBjcmVhIHVuIHNlcnZpZG9yIGh0dHBcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXIgPSBhcHAgPT4gUHJvbWlzZS5yZXNvbHZlKGh0dHAuY3JlYXRlU2VydmVyKGFwcCkpO1xuXG4vLyBFc3RhIGZ1bmNpb24gY29ycmUgZWwgc2Vydmlkb3Igd2ViXG5leHBvcnQgY29uc3QgcnVuU2VydmVyID0gKHsgUE9SVCB9KSA9PiBzZXJ2ZXIgPT4ge1xuICBzZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+XG4gICAgY29uc29sZS5sb2coYEV4cHJlc3Mgc2VydmVyIHJ1bm5pbmcgb24gcG9ydCAke1BPUlR9YCksXG4gICk7XG4gIGtlZXBBbGl2ZSgpO1xuICByZXR1cm4gc2VydmVyO1xufTtcblxuLy8gRXN0YSBlcyBsYSBmdW5jaW9uIHF1ZSB2YW1vcyBhIGV4cG9ydGFyIHkgcXVlIHNlIGVuY2FyZ2EgZGVcbi8vIGNvcnJlciBsYXMgb3RyYXMgdHJlcyBmdW5jaW9uZXMgZW4gb3JkZW4uXG5leHBvcnQgZGVmYXVsdCAoKSA9PlxuICBnZXRBcHAoKVxuICAgIC50aGVuKGdldFNlcnZlcilcbiAgICAudGhlbihydW5TZXJ2ZXIocHJvY2Vzcy5lbnYpKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "web.js"
      ],
      "names": [
        "dialogFlowCredentials",
        "getApp",
        "Promise",
        "resolve",
        "reject",
        "app",
        "get",
        "req",
        "res",
        "json",
        "isAlive",
        "static",
        "err",
        "getServer",
        "createServer",
        "runServer",
        "PORT",
        "server",
        "listen",
        "console",
        "log",
        "then",
        "process",
        "env"
      ],
      "mappings": ";;;;;;;AAGA;;;;AACA;;;;AACA;;;;AAGA;;;;;;AARA;AACA;AACA;AAQA,MAAMA,wBAAwB,CAA9B;;AAEA;AACA;;;AANA;AAOO,MAAMC,0BAAS,MACpB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,MAAI;AACF,UAAMC,MAAM,wBAAZ;;AAEA;AACAA,QAAIC,GAAJ,CAAQ,YAAR,EAAsB,CAACC,GAAD,EAAMC,GAAN,KAAcA,IAAIC,IAAJ,CAAS,EAAEC,SAAS,IAAX,EAAT,CAApC;;AAEA;;AAEA;AACA;;AAEA;AACA;AACAL,QAAIC,GAAJ,CAAQ,IAAR,EAAc,kBAAQK,MAAR,CAAe,QAAf,CAAd;;AAEAR,YAAQE,GAAR;AACD,GAhBD,CAgBE,OAAOO,GAAP,EAAY;AACZR,WAAOQ,GAAP;AACD;AACF,CApBD,CADK;;AAuBP;AACO,MAAMC,gCAAYR,OAAOH,QAAQC,OAAR,CAAgB,eAAKW,YAAL,CAAkBT,GAAlB,CAAhB,CAAzB;;AAEP;AACO,MAAMU,gCAAY,CAAC,EAAEC,IAAF,EAAD,KAAcC,UAAU;AAC/CA,SAAOC,MAAP,CAAcF,IAAd,EAAoB,MAClBG,QAAQC,GAAR,CAAa,kCAAiCJ,IAAK,EAAnD,CADF;AAGA;AACA,SAAOC,MAAP;AACD,CANM;;AAQP;AACA;;kBACe,MACbhB,SACGoB,IADH,CACQR,SADR,EAEGQ,IAFH,CAEQN,UAAUO,QAAQC,GAAlB,CAFR,C",
      "file": "web.js",
      "sourceRoot": "/app/servers",
      "sourcesContent": [
        "// Importamos la libreria con la implementacion de HTTP de Node\n// para poder servir contenido web y express para armar el servidor web\n// morgan es para hacer logs a la consola cuando el servidor procesa una peticion\nimport http from 'http';\nimport morgan from 'morgan';\nimport express from 'express';\n\n// Esto es para mantener vivo el proceso cuando usamos Glitch\nimport keepAlive from './utils/glitchKeepalive';\n\nconst dialogFlowCredentials = 1;\n\n// Esta primera funcion configura la aplicacion de express que va a\n// correr en el servidor http\nexport const getApp = () =>\n  new Promise((resolve, reject) => {\n    try {\n      const app = express();\n\n      // esta ruta esta aqui para mantener vivo el server con un keepalive\n      app.get('/its-alive', (req, res) => res.json({ isAlive: true }));\n\n      // Aqui va la configuracion del servidor\n\n      // Esto habilita el log a la consola cuando estamos en modo development.\n      // if (process.env.NODE_ENV === 'development') app.use(morgan('tiny'))\n\n      // Aqui se pueden agregar mas rutas\n      // ...\n      app.get('/*', express.static('static'));\n\n      resolve(app);\n    } catch (err) {\n      reject(err);\n    }\n  });\n\n// Esta function crea un servidor http\nexport const getServer = app => Promise.resolve(http.createServer(app));\n\n// Esta funcion corre el servidor web\nexport const runServer = ({ PORT }) => server => {\n  server.listen(PORT, () =>\n    console.log(`Express server running on port ${PORT}`),\n  );\n  keepAlive();\n  return server;\n};\n\n// Esta es la funcion que vamos a exportar y que se encarga de\n// correr las otras tres funciones en orden.\nexport default () =>\n  getApp()\n    .then(getServer)\n    .then(runServer(process.env));\n"
      ]
    },
    "mtime": 1523081051691
  },
  "{\"filename\":\"/app/servers/utils/glitchKeepalive.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/servers/utils\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/servers/utils/glitchKeepalive.js",
      "filenameRelative": "/app/servers/utils/glitchKeepalive.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "glitchKeepalive.js",
      "sourceFileName": "glitchKeepalive.js",
      "sourceRoot": "/app/servers/utils",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/servers/utils",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "glitchKeepalive"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = () => {\n  const reqOpts = {\n    url: 'http://' + process.env.PROJECT_DOMAIN + '.glitch.me/its-alive'\n  };\n  const keepalive = () => (0, _request2.default)(reqOpts, () => setTimeout(() => keepalive(), 55000));\n  // if this is running on Glitch, call self every 55 secs\n  if (process.env.PROJECT_DOMAIN) keepalive();\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsaXRjaEtlZXBhbGl2ZS5qcyJdLCJuYW1lcyI6WyJyZXFPcHRzIiwidXJsIiwicHJvY2VzcyIsImVudiIsIlBST0pFQ1RfRE9NQUlOIiwia2VlcGFsaXZlIiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztrQkFFZSxNQUFNO0FBQ25CLFFBQU1BLFVBQVU7QUFDZEMsU0FBSyxZQUFZQyxRQUFRQyxHQUFSLENBQVlDLGNBQXhCLEdBQXlDO0FBRGhDLEdBQWhCO0FBR0EsUUFBTUMsWUFBWSxNQUNoQix1QkFBUUwsT0FBUixFQUFpQixNQUFNTSxXQUFXLE1BQU1ELFdBQWpCLEVBQThCLEtBQTlCLENBQXZCLENBREY7QUFFQTtBQUNBLE1BQUlILFFBQVFDLEdBQVIsQ0FBWUMsY0FBaEIsRUFBZ0NDO0FBQ2pDLEMiLCJmaWxlIjoiZ2xpdGNoS2VlcGFsaXZlLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVycy91dGlscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZXF1ZXN0IGZyb20gJ3JlcXVlc3QnO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIGNvbnN0IHJlcU9wdHMgPSB7XG4gICAgdXJsOiAnaHR0cDovLycgKyBwcm9jZXNzLmVudi5QUk9KRUNUX0RPTUFJTiArICcuZ2xpdGNoLm1lL2l0cy1hbGl2ZScsXG4gIH07XG4gIGNvbnN0IGtlZXBhbGl2ZSA9ICgpID0+XG4gICAgcmVxdWVzdChyZXFPcHRzLCAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IGtlZXBhbGl2ZSgpLCA1NTAwMCkpO1xuICAvLyBpZiB0aGlzIGlzIHJ1bm5pbmcgb24gR2xpdGNoLCBjYWxsIHNlbGYgZXZlcnkgNTUgc2Vjc1xuICBpZiAocHJvY2Vzcy5lbnYuUFJPSkVDVF9ET01BSU4pIGtlZXBhbGl2ZSgpO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "glitchKeepalive.js"
      ],
      "names": [
        "reqOpts",
        "url",
        "process",
        "env",
        "PROJECT_DOMAIN",
        "keepalive",
        "setTimeout"
      ],
      "mappings": ";;;;;;AAAA;;;;;;kBAEe,MAAM;AACnB,QAAMA,UAAU;AACdC,SAAK,YAAYC,QAAQC,GAAR,CAAYC,cAAxB,GAAyC;AADhC,GAAhB;AAGA,QAAMC,YAAY,MAChB,uBAAQL,OAAR,EAAiB,MAAMM,WAAW,MAAMD,WAAjB,EAA8B,KAA9B,CAAvB,CADF;AAEA;AACA,MAAIH,QAAQC,GAAR,CAAYC,cAAhB,EAAgCC;AACjC,C",
      "file": "glitchKeepalive.js",
      "sourceRoot": "/app/servers/utils",
      "sourcesContent": [
        "import request from 'request';\n\nexport default () => {\n  const reqOpts = {\n    url: 'http://' + process.env.PROJECT_DOMAIN + '.glitch.me/its-alive',\n  };\n  const keepalive = () =>\n    request(reqOpts, () => setTimeout(() => keepalive(), 55000));\n  // if this is running on Glitch, call self every 55 secs\n  if (process.env.PROJECT_DOMAIN) keepalive();\n};\n"
      ]
    },
    "mtime": 1523081013759
  },
  "{\"filename\":\"/app/servers/sockets.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/servers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "socket.io",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "SocketIo"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/servers/sockets.js",
      "filenameRelative": "/app/servers/sockets.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "sockets.js",
      "sourceFileName": "sockets.js",
      "sourceRoot": "/app/servers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/servers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "sockets"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (server) {\n  const io = new _socket2.default(server);\n\n  let totalConnections = 0;\n  let liveConnections = 0;\n\n  io.on('connection', socket => {\n    console.log(`new connection: ${socket.id}`);\n    totalConnections += 1;\n    liveConnections += 1;\n    io.sockets.emit('count', {\n      total: totalConnections,\n      live: liveConnections\n    });\n    socket.on('disconnect', reason => {\n      console.log(`${socket.id} disconnected because: ${reason}`);\n      liveConnections -= 1;\n      io.sockets.emit('count', {\n        total: totalConnections,\n        live: liveConnections\n      });\n    });\n  });\n\n  return io;\n};\n\nvar _socket = require('socket.io');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldHMuanMiXSwibmFtZXMiOlsic2VydmVyIiwiaW8iLCJ0b3RhbENvbm5lY3Rpb25zIiwibGl2ZUNvbm5lY3Rpb25zIiwib24iLCJzb2NrZXQiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJzb2NrZXRzIiwiZW1pdCIsInRvdGFsIiwibGl2ZSIsInJlYXNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2tCQUNlLFVBQVNBLE1BQVQsRUFBaUI7QUFDOUIsUUFBTUMsS0FBSyxxQkFBYUQsTUFBYixDQUFYOztBQUVBLE1BQUlFLG1CQUFtQixDQUF2QjtBQUNBLE1BQUlDLGtCQUFrQixDQUF0Qjs7QUFFQUYsS0FBR0csRUFBSCxDQUFNLFlBQU4sRUFBb0JDLFVBQVU7QUFDNUJDLFlBQVFDLEdBQVIsQ0FBYSxtQkFBa0JGLE9BQU9HLEVBQUcsRUFBekM7QUFDQU4sd0JBQW9CLENBQXBCO0FBQ0FDLHVCQUFtQixDQUFuQjtBQUNBRixPQUFHUSxPQUFILENBQVdDLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUI7QUFDdkJDLGFBQU9ULGdCQURnQjtBQUV2QlUsWUFBTVQ7QUFGaUIsS0FBekI7QUFJQUUsV0FBT0QsRUFBUCxDQUFVLFlBQVYsRUFBd0JTLFVBQVU7QUFDaENQLGNBQVFDLEdBQVIsQ0FBYSxHQUFFRixPQUFPRyxFQUFHLDBCQUF5QkssTUFBTyxFQUF6RDtBQUNBVix5QkFBbUIsQ0FBbkI7QUFDQUYsU0FBR1EsT0FBSCxDQUFXQyxJQUFYLENBQWdCLE9BQWhCLEVBQXlCO0FBQ3ZCQyxlQUFPVCxnQkFEZ0I7QUFFdkJVLGNBQU1UO0FBRmlCLE9BQXpCO0FBSUQsS0FQRDtBQVFELEdBaEJEOztBQWtCQSxTQUFPRixFQUFQO0FBQ0QsQzs7QUExQkQiLCJmaWxlIjoic29ja2V0cy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NlcnZlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ja2V0SW8gZnJvbSAnc29ja2V0LmlvJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlcnZlcikge1xuICBjb25zdCBpbyA9IG5ldyBTb2NrZXRJbyhzZXJ2ZXIpO1xuXG4gIGxldCB0b3RhbENvbm5lY3Rpb25zID0gMDtcbiAgbGV0IGxpdmVDb25uZWN0aW9ucyA9IDA7XG5cbiAgaW8ub24oJ2Nvbm5lY3Rpb24nLCBzb2NrZXQgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBuZXcgY29ubmVjdGlvbjogJHtzb2NrZXQuaWR9YCk7XG4gICAgdG90YWxDb25uZWN0aW9ucyArPSAxO1xuICAgIGxpdmVDb25uZWN0aW9ucyArPSAxO1xuICAgIGlvLnNvY2tldHMuZW1pdCgnY291bnQnLCB7XG4gICAgICB0b3RhbDogdG90YWxDb25uZWN0aW9ucyxcbiAgICAgIGxpdmU6IGxpdmVDb25uZWN0aW9ucyxcbiAgICB9KTtcbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCByZWFzb24gPT4ge1xuICAgICAgY29uc29sZS5sb2coYCR7c29ja2V0LmlkfSBkaXNjb25uZWN0ZWQgYmVjYXVzZTogJHtyZWFzb259YCk7XG4gICAgICBsaXZlQ29ubmVjdGlvbnMgLT0gMTtcbiAgICAgIGlvLnNvY2tldHMuZW1pdCgnY291bnQnLCB7XG4gICAgICAgIHRvdGFsOiB0b3RhbENvbm5lY3Rpb25zLFxuICAgICAgICBsaXZlOiBsaXZlQ29ubmVjdGlvbnMsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlvO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "sockets.js"
      ],
      "names": [
        "server",
        "io",
        "totalConnections",
        "liveConnections",
        "on",
        "socket",
        "console",
        "log",
        "id",
        "sockets",
        "emit",
        "total",
        "live",
        "reason"
      ],
      "mappings": ";;;;;;kBACe,UAASA,MAAT,EAAiB;AAC9B,QAAMC,KAAK,qBAAaD,MAAb,CAAX;;AAEA,MAAIE,mBAAmB,CAAvB;AACA,MAAIC,kBAAkB,CAAtB;;AAEAF,KAAGG,EAAH,CAAM,YAAN,EAAoBC,UAAU;AAC5BC,YAAQC,GAAR,CAAa,mBAAkBF,OAAOG,EAAG,EAAzC;AACAN,wBAAoB,CAApB;AACAC,uBAAmB,CAAnB;AACAF,OAAGQ,OAAH,CAAWC,IAAX,CAAgB,OAAhB,EAAyB;AACvBC,aAAOT,gBADgB;AAEvBU,YAAMT;AAFiB,KAAzB;AAIAE,WAAOD,EAAP,CAAU,YAAV,EAAwBS,UAAU;AAChCP,cAAQC,GAAR,CAAa,GAAEF,OAAOG,EAAG,0BAAyBK,MAAO,EAAzD;AACAV,yBAAmB,CAAnB;AACAF,SAAGQ,OAAH,CAAWC,IAAX,CAAgB,OAAhB,EAAyB;AACvBC,eAAOT,gBADgB;AAEvBU,cAAMT;AAFiB,OAAzB;AAID,KAPD;AAQD,GAhBD;;AAkBA,SAAOF,EAAP;AACD,C;;AA1BD",
      "file": "sockets.js",
      "sourceRoot": "/app/servers",
      "sourcesContent": [
        "import SocketIo from 'socket.io';\nexport default function(server) {\n  const io = new SocketIo(server);\n\n  let totalConnections = 0;\n  let liveConnections = 0;\n\n  io.on('connection', socket => {\n    console.log(`new connection: ${socket.id}`);\n    totalConnections += 1;\n    liveConnections += 1;\n    io.sockets.emit('count', {\n      total: totalConnections,\n      live: liveConnections,\n    });\n    socket.on('disconnect', reason => {\n      console.log(`${socket.id} disconnected because: ${reason}`);\n      liveConnections -= 1;\n      io.sockets.emit('count', {\n        total: totalConnections,\n        live: liveConnections,\n      });\n    });\n  });\n\n  return io;\n}\n"
      ]
    },
    "mtime": 1523081040259
  },
  "{\"filename\":\"/app/servers/helpers/socketLogger.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/servers/helpers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "socketLogMiddleware"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "socketLogMiddleware",
              "exported": "socketLogMiddleware"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/servers/helpers/socketLogger.js",
      "filenameRelative": "/app/servers/helpers/socketLogger.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "socketLogger.js",
      "sourceFileName": "socketLogger.js",
      "sourceRoot": "/app/servers/helpers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/servers/helpers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "socketLogger"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = ctx => message => ctx.services.wss.sockets.emit('log', message);\n\nconst socketLogMiddleware = exports.socketLogMiddleware = ctx => {\n  ctx.services.wss.sockets.emit('log', ctx.getMessage());\n  return ctx;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldExvZ2dlci5qcyJdLCJuYW1lcyI6WyJjdHgiLCJtZXNzYWdlIiwic2VydmljZXMiLCJ3c3MiLCJzb2NrZXRzIiwiZW1pdCIsInNvY2tldExvZ01pZGRsZXdhcmUiLCJnZXRNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWVBLE9BQU9DLFdBQVdELElBQUlFLFFBQUosQ0FBYUMsR0FBYixDQUFpQkMsT0FBakIsQ0FBeUJDLElBQXpCLENBQThCLEtBQTlCLEVBQXFDSixPQUFyQyxDOztBQUUxQixNQUFNSyxvREFBc0JOLE9BQU87QUFDeENBLE1BQUlFLFFBQUosQ0FBYUMsR0FBYixDQUFpQkMsT0FBakIsQ0FBeUJDLElBQXpCLENBQThCLEtBQTlCLEVBQXFDTCxJQUFJTyxVQUFKLEVBQXJDO0FBQ0EsU0FBT1AsR0FBUDtBQUNELENBSE0iLCJmaWxlIjoic29ja2V0TG9nZ2VyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVycy9oZWxwZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY3R4ID0+IG1lc3NhZ2UgPT4gY3R4LnNlcnZpY2VzLndzcy5zb2NrZXRzLmVtaXQoJ2xvZycsIG1lc3NhZ2UpO1xuXG5leHBvcnQgY29uc3Qgc29ja2V0TG9nTWlkZGxld2FyZSA9IGN0eCA9PiB7XG4gIGN0eC5zZXJ2aWNlcy53c3Muc29ja2V0cy5lbWl0KCdsb2cnLCBjdHguZ2V0TWVzc2FnZSgpKTtcbiAgcmV0dXJuIGN0eDtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "socketLogger.js"
      ],
      "names": [
        "ctx",
        "message",
        "services",
        "wss",
        "sockets",
        "emit",
        "socketLogMiddleware",
        "getMessage"
      ],
      "mappings": ";;;;;;kBAAeA,OAAOC,WAAWD,IAAIE,QAAJ,CAAaC,GAAb,CAAiBC,OAAjB,CAAyBC,IAAzB,CAA8B,KAA9B,EAAqCJ,OAArC,C;;AAE1B,MAAMK,oDAAsBN,OAAO;AACxCA,MAAIE,QAAJ,CAAaC,GAAb,CAAiBC,OAAjB,CAAyBC,IAAzB,CAA8B,KAA9B,EAAqCL,IAAIO,UAAJ,EAArC;AACA,SAAOP,GAAP;AACD,CAHM",
      "file": "socketLogger.js",
      "sourceRoot": "/app/servers/helpers",
      "sourcesContent": [
        "export default ctx => message => ctx.services.wss.sockets.emit('log', message);\n\nexport const socketLogMiddleware = ctx => {\n  ctx.services.wss.sockets.emit('log', ctx.getMessage());\n  return ctx;\n};\n"
      ]
    },
    "mtime": 1523085118040
  },
  "{\"filename\":\"/app/bot/skills/global/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/global\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./whatCanYouDo",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "whatCanYouDo"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/global/index.js",
      "filenameRelative": "/app/bot/skills/global/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/bot/skills/global",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/global",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _whatCanYouDo = require('./whatCanYouDo');\n\nvar _whatCanYouDo2 = _interopRequireDefault(_whatCanYouDo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  whatCanYouDo: _whatCanYouDo2.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIndoYXRDYW5Zb3VEbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztrQkFFZTtBQUNiQTtBQURhLEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3Qvc2tpbGxzL2dsb2JhbCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3aGF0Q2FuWW91RG8gZnJvbSAnLi93aGF0Q2FuWW91RG8nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHdoYXRDYW5Zb3VEbyxcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "whatCanYouDo"
      ],
      "mappings": ";;;;;;AAAA;;;;;;kBAEe;AACbA;AADa,C",
      "file": "index.js",
      "sourceRoot": "/app/bot/skills/global",
      "sourcesContent": [
        "import whatCanYouDo from './whatCanYouDo';\n\nexport default {\n  whatCanYouDo,\n};\n"
      ]
    },
    "mtime": 1523080849869
  },
  "{\"filename\":\"/app/bot/skills/global/whatCanYouDo.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/skills/global\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../../actions",
            "imported": [
              "basicEmbedReply"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "basicEmbedReply",
                "local": "makeRichReplyOf"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/skills/global/whatCanYouDo.js",
      "filenameRelative": "/app/bot/skills/global/whatCanYouDo.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "whatCanYouDo.js",
      "sourceFileName": "whatCanYouDo.js",
      "sourceRoot": "/app/bot/skills/global",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/skills/global",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "whatCanYouDo"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _actions = require('../../actions');\n\nconst replyMessage = {\n  // content:\n  //   'this `supports` __a__ **subset** *of* ~~markdown~~  ```js\\nfunction foo(bar) {\\n  console.log(bar);\\n}\\n\\nfoo(1);```',\n  embed: {\n    // title: 'title ~~(did you know you can have markdown here too?)~~',\n    author: {\n      name: 'Hola !',\n      //   url: 'https://discordapp.com',\n      icon_url: 'https://cdn.discordapp.com/embed/avatars/3.png'\n    },\n    description:\n    // 'this supports [named links](https://discordapp.com) on top of the previously shown subset of markdown.',\n    '**Soy Bot Annah**',\n    // url: 'https://discordapp.com',\n    color: 13565214,\n    timestamp: '2018-02-20T23:43:51.079Z',\n    // footer: {\n    //   icon_url: 'https://cdn.discordapp.com/embed/avatars/0.png',\n    //   text: 'footer text',\n    // },\n    // thumbnail: {\n    //   url: 'https://cdn.discordapp.com/embed/avatars/1.png',\n    // },\n    // image: {\n    //   url: 'https://cdn.discordapp.com/embed/avatars/2.png',\n    // },\n    fields: [{\n      name: '',\n      value: `\n*Bueno, yo puedo hablar contigo de una manera especial 7v7, contarte chistes, te puedo decir como interactuar conmigo... Pero para poder usar mis poderes de bronza, necesito que me digas\ntu nombre de invocador y tu region, para esto mis creadores escribieron  este mini manual:*\n`\n    }, {\n      name: `Escribe tu nombre de invocador y region de LoL `,\n      value: `\n*Si me dices tu nombre de invocador y region conmigo, puedo tener acceso a cierta informacion publica\nque puede ayudarme a mejorar tu experiencia, intenta pedirme que recuerde tu nombre de invocador. \\n\nPor ejemplo:*\n` + '```Botannah, mi nombre de invocador es bBaaXx y juego en LAN```'\n    }]\n  }\n};\n\nexports.default = async () => (0, _actions.basicEmbedReply)(replyMessage);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndoYXRDYW5Zb3VEby5qcyJdLCJuYW1lcyI6WyJyZXBseU1lc3NhZ2UiLCJlbWJlZCIsImF1dGhvciIsIm5hbWUiLCJpY29uX3VybCIsImRlc2NyaXB0aW9uIiwiY29sb3IiLCJ0aW1lc3RhbXAiLCJmaWVsZHMiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsZUFBZTtBQUNuQjtBQUNBO0FBQ0FDLFNBQU87QUFDTDtBQUNBQyxZQUFRO0FBQ05DLFlBQU0sUUFEQTtBQUVOO0FBQ0FDLGdCQUFVO0FBSEosS0FGSDtBQU9MQztBQUNFO0FBQ0EsdUJBVEc7QUFVTDtBQUNBQyxXQUFPLFFBWEY7QUFZTEMsZUFBVywwQkFaTjtBQWFMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FDLFlBQVEsQ0FDTjtBQUNFTCxZQUFNLElBRFI7QUFFRU0sYUFBUTs7OztBQUZWLEtBRE0sRUFRTjtBQUNFTixZQUFPLG9EQURUO0FBRUVNLGFBQ0c7Ozs7Q0FBRCxHQUlOO0FBUEUsS0FSTTtBQXZCSDtBQUhZLENBQXJCOztrQkErRGUsWUFBWSw4QkFBZ0JULFlBQWhCLEMiLCJmaWxlIjoid2hhdENhbllvdURvLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYm90L3NraWxscy9nbG9iYWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBiYXNpY0VtYmVkUmVwbHkgYXMgbWFrZVJpY2hSZXBseU9mIH0gZnJvbSAnLi4vLi4vYWN0aW9ucyc7XG5cbmNvbnN0IHJlcGx5TWVzc2FnZSA9IHtcbiAgLy8gY29udGVudDpcbiAgLy8gICAndGhpcyBgc3VwcG9ydHNgIF9fYV9fICoqc3Vic2V0KiogKm9mKiB+fm1hcmtkb3dufn4g8J+YgyBgYGBqc1xcbmZ1bmN0aW9uIGZvbyhiYXIpIHtcXG4gIGNvbnNvbGUubG9nKGJhcik7XFxufVxcblxcbmZvbygxKTtgYGAnLFxuICBlbWJlZDoge1xuICAgIC8vIHRpdGxlOiAndGl0bGUgfn4oZGlkIHlvdSBrbm93IHlvdSBjYW4gaGF2ZSBtYXJrZG93biBoZXJlIHRvbz8pfn4nLFxuICAgIGF1dGhvcjoge1xuICAgICAgbmFtZTogJ0hvbGEgIScsXG4gICAgICAvLyAgIHVybDogJ2h0dHBzOi8vZGlzY29yZGFwcC5jb20nLFxuICAgICAgaWNvbl91cmw6ICdodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbWJlZC9hdmF0YXJzLzMucG5nJyxcbiAgICB9LFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgLy8gJ3RoaXMgc3VwcG9ydHMgW25hbWVkIGxpbmtzXShodHRwczovL2Rpc2NvcmRhcHAuY29tKSBvbiB0b3Agb2YgdGhlIHByZXZpb3VzbHkgc2hvd24gc3Vic2V0IG9mIG1hcmtkb3duLicsXG4gICAgICAnKipTb3kgQm90IEFubmFoKionLFxuICAgIC8vIHVybDogJ2h0dHBzOi8vZGlzY29yZGFwcC5jb20nLFxuICAgIGNvbG9yOiAxMzU2NTIxNCxcbiAgICB0aW1lc3RhbXA6ICcyMDE4LTAyLTIwVDIzOjQzOjUxLjA3OVonLFxuICAgIC8vIGZvb3Rlcjoge1xuICAgIC8vICAgaWNvbl91cmw6ICdodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbWJlZC9hdmF0YXJzLzAucG5nJyxcbiAgICAvLyAgIHRleHQ6ICdmb290ZXIgdGV4dCcsXG4gICAgLy8gfSxcbiAgICAvLyB0aHVtYm5haWw6IHtcbiAgICAvLyAgIHVybDogJ2h0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2VtYmVkL2F2YXRhcnMvMS5wbmcnLFxuICAgIC8vIH0sXG4gICAgLy8gaW1hZ2U6IHtcbiAgICAvLyAgIHVybDogJ2h0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2VtYmVkL2F2YXRhcnMvMi5wbmcnLFxuICAgIC8vIH0sXG4gICAgZmllbGRzOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfwn5ixJyxcbiAgICAgICAgdmFsdWU6IGBcbipCdWVubywgeW8gcHVlZG8gaGFibGFyIGNvbnRpZ28gZGUgdW5hIG1hbmVyYSBlc3BlY2lhbCA3djcsIGNvbnRhcnRlIGNoaXN0ZXMsIHRlIHB1ZWRvIGRlY2lyIGNvbW8gaW50ZXJhY3R1YXIgY29ubWlnby4uLiBQZXJvIHBhcmEgcG9kZXIgdXNhciBtaXMgcG9kZXJlcyBkZSBicm9uemEsIG5lY2VzaXRvIHF1ZSBtZSBkaWdhc1xudHUgbm9tYnJlIGRlIGludm9jYWRvciB5IHR1IHJlZ2lvbiwgcGFyYSBlc3RvIG1pcyBjcmVhZG9yZXMgZXNjcmliaWVyb24gIGVzdGUgbWluaSBtYW51YWw6KlxuYCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IGDinKhFc2NyaWJlIHR1IG5vbWJyZSBkZSBpbnZvY2Fkb3IgeSByZWdpb24gZGUgTG9MIPCfmIlgLFxuICAgICAgICB2YWx1ZTpcbiAgICAgICAgICBgXG4qU2kgbWUgZGljZXMgdHUgbm9tYnJlIGRlIGludm9jYWRvciB5IHJlZ2lvbiBjb25taWdvLCBwdWVkbyB0ZW5lciBhY2Nlc28gYSBjaWVydGEgaW5mb3JtYWNpb24gcHVibGljYVxucXVlIHB1ZWRlIGF5dWRhcm1lIGEgbWVqb3JhciB0dSBleHBlcmllbmNpYSwgaW50ZW50YSBwZWRpcm1lIHF1ZSByZWN1ZXJkZSB0dSBub21icmUgZGUgaW52b2NhZG9yLiBcXG5cblBvciBlamVtcGxvOipcbmAgKyAnYGBgQm90YW5uYWgsIG1pIG5vbWJyZSBkZSBpbnZvY2Fkb3IgZXMgYkJhYVh4IHkganVlZ28gZW4gTEFOYGBgJyxcbiAgICAgIH0sXG5cbiAgICAgIC8vICAge1xuICAgICAgLy8gICAgIG5hbWU6ICfwn5mEJyxcbiAgICAgIC8vICAgICB2YWx1ZTpcbiAgICAgIC8vICAgICAgICdhbiBpbmZvcm1hdGl2ZSBlcnJvciBzaG91bGQgc2hvdyB1cCwgYW5kIHRoaXMgdmlldyB3aWxsIHJlbWFpbiBhcy1pcyB1bnRpbCBhbGwgaXNzdWVzIGFyZSBmaXhlZCcsXG4gICAgICAvLyAgIH0sXG4gICAgICAvLyAgIHtcbiAgICAgIC8vICAgICBuYW1lOiAnPDpleWU6MjE5MDY5MjUwNjkyODQxNDczPicsXG4gICAgICAvLyAgICAgdmFsdWU6ICd0aGVzZSBsYXN0IHR3bycsXG4gICAgICAvLyAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgLy8gICB9LFxuICAgICAgLy8gICB7XG4gICAgICAvLyAgICAgbmFtZTogJzpoYW5rZXk6JyxcbiAgICAgIC8vICAgICB2YWx1ZTogJ2FyZSBpbmxpbmUgZmllbGRzJyxcbiAgICAgIC8vICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAvLyAgIH0sXG4gICAgXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jICgpID0+IG1ha2VSaWNoUmVwbHlPZihyZXBseU1lc3NhZ2UpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "whatCanYouDo.js"
      ],
      "names": [
        "replyMessage",
        "embed",
        "author",
        "name",
        "icon_url",
        "description",
        "color",
        "timestamp",
        "fields",
        "value"
      ],
      "mappings": ";;;;;;AAAA;;AAEA,MAAMA,eAAe;AACnB;AACA;AACAC,SAAO;AACL;AACAC,YAAQ;AACNC,YAAM,QADA;AAEN;AACAC,gBAAU;AAHJ,KAFH;AAOLC;AACE;AACA,uBATG;AAUL;AACAC,WAAO,QAXF;AAYLC,eAAW,0BAZN;AAaL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,YAAQ,CACN;AACEL,YAAM,IADR;AAEEM,aAAQ;;;;AAFV,KADM,EAQN;AACEN,YAAO,oDADT;AAEEM,aACG;;;;CAAD,GAIN;AAPE,KARM;AAvBH;AAHY,CAArB;;kBA+De,YAAY,8BAAgBT,YAAhB,C",
      "file": "whatCanYouDo.js",
      "sourceRoot": "/app/bot/skills/global",
      "sourcesContent": [
        "import { basicEmbedReply as makeRichReplyOf } from '../../actions';\n\nconst replyMessage = {\n  // content:\n  //   'this `supports` __a__ **subset** *of* ~~markdown~~  ```js\\nfunction foo(bar) {\\n  console.log(bar);\\n}\\n\\nfoo(1);```',\n  embed: {\n    // title: 'title ~~(did you know you can have markdown here too?)~~',\n    author: {\n      name: 'Hola !',\n      //   url: 'https://discordapp.com',\n      icon_url: 'https://cdn.discordapp.com/embed/avatars/3.png',\n    },\n    description:\n      // 'this supports [named links](https://discordapp.com) on top of the previously shown subset of markdown.',\n      '**Soy Bot Annah**',\n    // url: 'https://discordapp.com',\n    color: 13565214,\n    timestamp: '2018-02-20T23:43:51.079Z',\n    // footer: {\n    //   icon_url: 'https://cdn.discordapp.com/embed/avatars/0.png',\n    //   text: 'footer text',\n    // },\n    // thumbnail: {\n    //   url: 'https://cdn.discordapp.com/embed/avatars/1.png',\n    // },\n    // image: {\n    //   url: 'https://cdn.discordapp.com/embed/avatars/2.png',\n    // },\n    fields: [\n      {\n        name: '',\n        value: `\n*Bueno, yo puedo hablar contigo de una manera especial 7v7, contarte chistes, te puedo decir como interactuar conmigo... Pero para poder usar mis poderes de bronza, necesito que me digas\ntu nombre de invocador y tu region, para esto mis creadores escribieron  este mini manual:*\n`,\n      },\n      {\n        name: `Escribe tu nombre de invocador y region de LoL `,\n        value:\n          `\n*Si me dices tu nombre de invocador y region conmigo, puedo tener acceso a cierta informacion publica\nque puede ayudarme a mejorar tu experiencia, intenta pedirme que recuerde tu nombre de invocador. \\n\nPor ejemplo:*\n` + '```Botannah, mi nombre de invocador es bBaaXx y juego en LAN```',\n      },\n\n      //   {\n      //     name: '',\n      //     value:\n      //       'an informative error should show up, and this view will remain as-is until all issues are fixed',\n      //   },\n      //   {\n      //     name: '<:eye:219069250692841473>',\n      //     value: 'these last two',\n      //     inline: true,\n      //   },\n      //   {\n      //     name: ':hankey:',\n      //     value: 'are inline fields',\n      //     inline: true,\n      //   },\n    ],\n  },\n};\n\nexport default async () => makeRichReplyOf(replyMessage);\n"
      ]
    },
    "mtime": 1523172989249
  },
  "{\"filename\":\"/app/bot/adapters/discordJs/messageHelpers.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot/adapters/discordJs\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "discardOwnMessages",
            "discardBotMessages",
            "marshallMessage"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "discardOwnMessages",
              "exported": "discardOwnMessages"
            },
            {
              "kind": "local",
              "local": "discardBotMessages",
              "exported": "discardBotMessages"
            },
            {
              "kind": "local",
              "local": "marshallMessage",
              "exported": "marshallMessage"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/bot/adapters/discordJs/messageHelpers.js",
      "filenameRelative": "/app/bot/adapters/discordJs/messageHelpers.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "messageHelpers.js",
      "sourceFileName": "messageHelpers.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot/adapters/discordJs",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "messageHelpers"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst discardOwnMessages = exports.discardOwnMessages = client => message => Boolean(message.author.id !== client.user.id);\n\nconst discardBotMessages = exports.discardBotMessages = message => !message.author.bot;\n\nconst marshallMessage = exports.marshallMessage = message => ({\n  msgId: message.id,\n  content: message.content,\n  authorId: message.author.id,\n  authorName: message.author.username,\n  channel: message.channel.id\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VIZWxwZXJzLmpzIl0sIm5hbWVzIjpbImRpc2NhcmRPd25NZXNzYWdlcyIsImNsaWVudCIsIm1lc3NhZ2UiLCJCb29sZWFuIiwiYXV0aG9yIiwiaWQiLCJ1c2VyIiwiZGlzY2FyZEJvdE1lc3NhZ2VzIiwiYm90IiwibWFyc2hhbGxNZXNzYWdlIiwibXNnSWQiLCJjb250ZW50IiwiYXV0aG9ySWQiLCJhdXRob3JOYW1lIiwidXNlcm5hbWUiLCJjaGFubmVsIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU1BLGtEQUFxQkMsVUFBVUMsV0FDMUNDLFFBQVFELFFBQVFFLE1BQVIsQ0FBZUMsRUFBZixLQUFzQkosT0FBT0ssSUFBUCxDQUFZRCxFQUExQyxDQURLOztBQUdBLE1BQU1FLGtEQUFxQkwsV0FBVyxDQUFDQSxRQUFRRSxNQUFSLENBQWVJLEdBQXREOztBQUVBLE1BQU1DLDRDQUFrQlAsWUFBWTtBQUN6Q1EsU0FBT1IsUUFBUUcsRUFEMEI7QUFFekNNLFdBQVNULFFBQVFTLE9BRndCO0FBR3pDQyxZQUFVVixRQUFRRSxNQUFSLENBQWVDLEVBSGdCO0FBSXpDUSxjQUFZWCxRQUFRRSxNQUFSLENBQWVVLFFBSmM7QUFLekNDLFdBQVNiLFFBQVFhLE9BQVIsQ0FBZ0JWO0FBTGdCLENBQVosQ0FBeEIiLCJmaWxlIjoibWVzc2FnZUhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9ib3QvYWRhcHRlcnMvZGlzY29yZEpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRpc2NhcmRPd25NZXNzYWdlcyA9IGNsaWVudCA9PiBtZXNzYWdlID0+XG4gIEJvb2xlYW4obWVzc2FnZS5hdXRob3IuaWQgIT09IGNsaWVudC51c2VyLmlkKTtcblxuZXhwb3J0IGNvbnN0IGRpc2NhcmRCb3RNZXNzYWdlcyA9IG1lc3NhZ2UgPT4gIW1lc3NhZ2UuYXV0aG9yLmJvdDtcblxuZXhwb3J0IGNvbnN0IG1hcnNoYWxsTWVzc2FnZSA9IG1lc3NhZ2UgPT4gKHtcbiAgbXNnSWQ6IG1lc3NhZ2UuaWQsXG4gIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgYXV0aG9ySWQ6IG1lc3NhZ2UuYXV0aG9yLmlkLFxuICBhdXRob3JOYW1lOiBtZXNzYWdlLmF1dGhvci51c2VybmFtZSxcbiAgY2hhbm5lbDogbWVzc2FnZS5jaGFubmVsLmlkLFxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "messageHelpers.js"
      ],
      "names": [
        "discardOwnMessages",
        "client",
        "message",
        "Boolean",
        "author",
        "id",
        "user",
        "discardBotMessages",
        "bot",
        "marshallMessage",
        "msgId",
        "content",
        "authorId",
        "authorName",
        "username",
        "channel"
      ],
      "mappings": ";;;;;AAAO,MAAMA,kDAAqBC,UAAUC,WAC1CC,QAAQD,QAAQE,MAAR,CAAeC,EAAf,KAAsBJ,OAAOK,IAAP,CAAYD,EAA1C,CADK;;AAGA,MAAME,kDAAqBL,WAAW,CAACA,QAAQE,MAAR,CAAeI,GAAtD;;AAEA,MAAMC,4CAAkBP,YAAY;AACzCQ,SAAOR,QAAQG,EAD0B;AAEzCM,WAAST,QAAQS,OAFwB;AAGzCC,YAAUV,QAAQE,MAAR,CAAeC,EAHgB;AAIzCQ,cAAYX,QAAQE,MAAR,CAAeU,QAJc;AAKzCC,WAASb,QAAQa,OAAR,CAAgBV;AALgB,CAAZ,CAAxB",
      "file": "messageHelpers.js",
      "sourceRoot": "/app/bot/adapters/discordJs",
      "sourcesContent": [
        "export const discardOwnMessages = client => message =>\n  Boolean(message.author.id !== client.user.id);\n\nexport const discardBotMessages = message => !message.author.bot;\n\nexport const marshallMessage = message => ({\n  msgId: message.id,\n  content: message.content,\n  authorId: message.author.id,\n  authorName: message.author.username,\n  channel: message.channel.id,\n});\n"
      ]
    },
    "mtime": 1523080688343
  },
  "{\"filename\":\"/app/bot/messageContext.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/messageContext.js",
      "filenameRelative": "/app/bot/messageContext.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "messageContext.js",
      "sourceFileName": "messageContext.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "messageContext"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = (services, platform) => input => {\n  const { message } = input;\n  const { ws, wss, db } = services;\n  const ctxMap = new Map(); // eslint-disable-line\n\n  ctxMap.set('resolved', false);\n  ctxMap.set('startedAt', new Date());\n  ctxMap.set('message', message);\n  ctxMap.set('ws', ws);\n  ctxMap.set('wss', wss);\n  ctxMap.set('db', db);\n  ctxMap.set('reaction', void 0);\n\n  return {\n    platform,\n    message: input.message,\n    // setter & getter\n    set: (key, value) => ctxMap.set(key, value),\n    get: key => ctxMap.get(key),\n\n    // Sugar\n    getMessage: () => ctxMap.get('message'),\n    getMessageContent: () => ctxMap.get('message').content,\n    getAuthorId: () => ctxMap.get('message').authorId,\n    getReaction: () => ctxMap.get('reaction'),\n\n    // resolve\n    resolve: reaction => ctxMap.set('resolved', true) && ctxMap.set('reaction', reaction),\n    resolved: () => ctxMap.get('resolved'),\n    input,\n    services,\n    reaction: {},\n    analysis: {},\n    handled: false\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250ZXh0LmpzIl0sIm5hbWVzIjpbInNlcnZpY2VzIiwicGxhdGZvcm0iLCJpbnB1dCIsIm1lc3NhZ2UiLCJ3cyIsIndzcyIsImRiIiwiY3R4TWFwIiwiTWFwIiwic2V0IiwiRGF0ZSIsImtleSIsInZhbHVlIiwiZ2V0IiwiZ2V0TWVzc2FnZSIsImdldE1lc3NhZ2VDb250ZW50IiwiY29udGVudCIsImdldEF1dGhvcklkIiwiYXV0aG9ySWQiLCJnZXRSZWFjdGlvbiIsInJlc29sdmUiLCJyZWFjdGlvbiIsInJlc29sdmVkIiwiYW5hbHlzaXMiLCJoYW5kbGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWUsQ0FBQ0EsUUFBRCxFQUFXQyxRQUFYLEtBQXdCQyxTQUFTO0FBQzlDLFFBQU0sRUFBRUMsT0FBRixLQUFjRCxLQUFwQjtBQUNBLFFBQU0sRUFBRUUsRUFBRixFQUFNQyxHQUFOLEVBQVdDLEVBQVgsS0FBa0JOLFFBQXhCO0FBQ0EsUUFBTU8sU0FBUyxJQUFJQyxHQUFKLEVBQWYsQ0FIOEMsQ0FHcEI7O0FBRTFCRCxTQUFPRSxHQUFQLENBQVcsVUFBWCxFQUF1QixLQUF2QjtBQUNBRixTQUFPRSxHQUFQLENBQVcsV0FBWCxFQUF3QixJQUFJQyxJQUFKLEVBQXhCO0FBQ0FILFNBQU9FLEdBQVAsQ0FBVyxTQUFYLEVBQXNCTixPQUF0QjtBQUNBSSxTQUFPRSxHQUFQLENBQVcsSUFBWCxFQUFpQkwsRUFBakI7QUFDQUcsU0FBT0UsR0FBUCxDQUFXLEtBQVgsRUFBa0JKLEdBQWxCO0FBQ0FFLFNBQU9FLEdBQVAsQ0FBVyxJQUFYLEVBQWlCSCxFQUFqQjtBQUNBQyxTQUFPRSxHQUFQLENBQVcsVUFBWCxFQUF1QixLQUFLLENBQTVCOztBQUVBLFNBQU87QUFDTFIsWUFESztBQUVMRSxhQUFTRCxNQUFNQyxPQUZWO0FBR0w7QUFDQU0sU0FBSyxDQUFDRSxHQUFELEVBQU1DLEtBQU4sS0FBZ0JMLE9BQU9FLEdBQVAsQ0FBV0UsR0FBWCxFQUFnQkMsS0FBaEIsQ0FKaEI7QUFLTEMsU0FBS0YsT0FBT0osT0FBT00sR0FBUCxDQUFXRixHQUFYLENBTFA7O0FBT0w7QUFDQUcsZ0JBQVksTUFBTVAsT0FBT00sR0FBUCxDQUFXLFNBQVgsQ0FSYjtBQVNMRSx1QkFBbUIsTUFBTVIsT0FBT00sR0FBUCxDQUFXLFNBQVgsRUFBc0JHLE9BVDFDO0FBVUxDLGlCQUFhLE1BQU1WLE9BQU9NLEdBQVAsQ0FBVyxTQUFYLEVBQXNCSyxRQVZwQztBQVdMQyxpQkFBYSxNQUFNWixPQUFPTSxHQUFQLENBQVcsVUFBWCxDQVhkOztBQWFMO0FBQ0FPLGFBQVNDLFlBQVlkLE9BQU9FLEdBQVAsQ0FBVyxVQUFYLEVBQXVCLElBQXZCLEtBQWdDRixPQUFPRSxHQUFQLENBQVcsVUFBWCxFQUF1QlksUUFBdkIsQ0FkaEQ7QUFlTEMsY0FBVSxNQUFNZixPQUFPTSxHQUFQLENBQVcsVUFBWCxDQWZYO0FBZ0JMWCxTQWhCSztBQWlCTEYsWUFqQks7QUFrQkxxQixjQUFVLEVBbEJMO0FBbUJMRSxjQUFVLEVBbkJMO0FBb0JMQyxhQUFTO0FBcEJKLEdBQVA7QUFzQkQsQyIsImZpbGUiOiJtZXNzYWdlQ29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChzZXJ2aWNlcywgcGxhdGZvcm0pID0+IGlucHV0ID0+IHtcbiAgY29uc3QgeyBtZXNzYWdlIH0gPSBpbnB1dDtcbiAgY29uc3QgeyB3cywgd3NzLCBkYiB9ID0gc2VydmljZXM7XG4gIGNvbnN0IGN0eE1hcCA9IG5ldyBNYXAoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBcbiAgY3R4TWFwLnNldCgncmVzb2x2ZWQnLCBmYWxzZSk7XG4gIGN0eE1hcC5zZXQoJ3N0YXJ0ZWRBdCcsIG5ldyBEYXRlKCkpO1xuICBjdHhNYXAuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gIGN0eE1hcC5zZXQoJ3dzJywgd3MpO1xuICBjdHhNYXAuc2V0KCd3c3MnLCB3c3MpO1xuICBjdHhNYXAuc2V0KCdkYicsIGRiKTtcbiAgY3R4TWFwLnNldCgncmVhY3Rpb24nLCB2b2lkIDApO1xuICBcbiAgcmV0dXJuIHtcbiAgICBwbGF0Zm9ybSxcbiAgICBtZXNzYWdlOiBpbnB1dC5tZXNzYWdlLFxuICAgIC8vIHNldHRlciAmIGdldHRlclxuICAgIHNldDogKGtleSwgdmFsdWUpID0+IGN0eE1hcC5zZXQoa2V5LCB2YWx1ZSksXG4gICAgZ2V0OiBrZXkgPT4gY3R4TWFwLmdldChrZXkpLFxuICAgIFxuICAgIC8vIFN1Z2FyXG4gICAgZ2V0TWVzc2FnZTogKCkgPT4gY3R4TWFwLmdldCgnbWVzc2FnZScpLFxuICAgIGdldE1lc3NhZ2VDb250ZW50OiAoKSA9PiBjdHhNYXAuZ2V0KCdtZXNzYWdlJykuY29udGVudCxcbiAgICBnZXRBdXRob3JJZDogKCkgPT4gY3R4TWFwLmdldCgnbWVzc2FnZScpLmF1dGhvcklkLFxuICAgIGdldFJlYWN0aW9uOiAoKSA9PiBjdHhNYXAuZ2V0KCdyZWFjdGlvbicpLFxuICAgIFxuICAgIC8vIHJlc29sdmVcbiAgICByZXNvbHZlOiByZWFjdGlvbiA9PiBjdHhNYXAuc2V0KCdyZXNvbHZlZCcsIHRydWUpICYmIGN0eE1hcC5zZXQoJ3JlYWN0aW9uJywgcmVhY3Rpb24pLFxuICAgIHJlc29sdmVkOiAoKSA9PiBjdHhNYXAuZ2V0KCdyZXNvbHZlZCcpLFxuICAgIGlucHV0LFxuICAgIHNlcnZpY2VzLFxuICAgIHJlYWN0aW9uOiB7fSxcbiAgICBhbmFseXNpczoge30sXG4gICAgaGFuZGxlZDogZmFsc2UsXG4gIH07XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "messageContext.js"
      ],
      "names": [
        "services",
        "platform",
        "input",
        "message",
        "ws",
        "wss",
        "db",
        "ctxMap",
        "Map",
        "set",
        "Date",
        "key",
        "value",
        "get",
        "getMessage",
        "getMessageContent",
        "content",
        "getAuthorId",
        "authorId",
        "getReaction",
        "resolve",
        "reaction",
        "resolved",
        "analysis",
        "handled"
      ],
      "mappings": ";;;;;;kBAAe,CAACA,QAAD,EAAWC,QAAX,KAAwBC,SAAS;AAC9C,QAAM,EAAEC,OAAF,KAAcD,KAApB;AACA,QAAM,EAAEE,EAAF,EAAMC,GAAN,EAAWC,EAAX,KAAkBN,QAAxB;AACA,QAAMO,SAAS,IAAIC,GAAJ,EAAf,CAH8C,CAGpB;;AAE1BD,SAAOE,GAAP,CAAW,UAAX,EAAuB,KAAvB;AACAF,SAAOE,GAAP,CAAW,WAAX,EAAwB,IAAIC,IAAJ,EAAxB;AACAH,SAAOE,GAAP,CAAW,SAAX,EAAsBN,OAAtB;AACAI,SAAOE,GAAP,CAAW,IAAX,EAAiBL,EAAjB;AACAG,SAAOE,GAAP,CAAW,KAAX,EAAkBJ,GAAlB;AACAE,SAAOE,GAAP,CAAW,IAAX,EAAiBH,EAAjB;AACAC,SAAOE,GAAP,CAAW,UAAX,EAAuB,KAAK,CAA5B;;AAEA,SAAO;AACLR,YADK;AAELE,aAASD,MAAMC,OAFV;AAGL;AACAM,SAAK,CAACE,GAAD,EAAMC,KAAN,KAAgBL,OAAOE,GAAP,CAAWE,GAAX,EAAgBC,KAAhB,CAJhB;AAKLC,SAAKF,OAAOJ,OAAOM,GAAP,CAAWF,GAAX,CALP;;AAOL;AACAG,gBAAY,MAAMP,OAAOM,GAAP,CAAW,SAAX,CARb;AASLE,uBAAmB,MAAMR,OAAOM,GAAP,CAAW,SAAX,EAAsBG,OAT1C;AAULC,iBAAa,MAAMV,OAAOM,GAAP,CAAW,SAAX,EAAsBK,QAVpC;AAWLC,iBAAa,MAAMZ,OAAOM,GAAP,CAAW,UAAX,CAXd;;AAaL;AACAO,aAASC,YAAYd,OAAOE,GAAP,CAAW,UAAX,EAAuB,IAAvB,KAAgCF,OAAOE,GAAP,CAAW,UAAX,EAAuBY,QAAvB,CAdhD;AAeLC,cAAU,MAAMf,OAAOM,GAAP,CAAW,UAAX,CAfX;AAgBLX,SAhBK;AAiBLF,YAjBK;AAkBLqB,cAAU,EAlBL;AAmBLE,cAAU,EAnBL;AAoBLC,aAAS;AApBJ,GAAP;AAsBD,C",
      "file": "messageContext.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "export default (services, platform) => input => {\n  const { message } = input;\n  const { ws, wss, db } = services;\n  const ctxMap = new Map(); // eslint-disable-line\n  \n  ctxMap.set('resolved', false);\n  ctxMap.set('startedAt', new Date());\n  ctxMap.set('message', message);\n  ctxMap.set('ws', ws);\n  ctxMap.set('wss', wss);\n  ctxMap.set('db', db);\n  ctxMap.set('reaction', void 0);\n  \n  return {\n    platform,\n    message: input.message,\n    // setter & getter\n    set: (key, value) => ctxMap.set(key, value),\n    get: key => ctxMap.get(key),\n    \n    // Sugar\n    getMessage: () => ctxMap.get('message'),\n    getMessageContent: () => ctxMap.get('message').content,\n    getAuthorId: () => ctxMap.get('message').authorId,\n    getReaction: () => ctxMap.get('reaction'),\n    \n    // resolve\n    resolve: reaction => ctxMap.set('resolved', true) && ctxMap.set('reaction', reaction),\n    resolved: () => ctxMap.get('resolved'),\n    input,\n    services,\n    reaction: {},\n    analysis: {},\n    handled: false,\n  };\n};\n"
      ]
    },
    "mtime": 1523326337178
  },
  "{\"filename\":\"/app/bot/resolveReaction.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/bot\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/bot/resolveReaction.js",
      "filenameRelative": "/app/bot/resolveReaction.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "resolveReaction.js",
      "sourceFileName": "resolveReaction.js",
      "sourceRoot": "/app/bot",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/bot",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "resolveReaction"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = async _ctx => {\n  const ctx = await _ctx;\n  if (ctx.resolved()) return ctx.getReaction();\n  console.warn('WARN >>> LEGACY RESOLVE');\n  const { reaction } = ctx;\n  return reaction;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc29sdmVSZWFjdGlvbi5qcyJdLCJuYW1lcyI6WyJfY3R4IiwiY3R4IiwicmVzb2x2ZWQiLCJnZXRSZWFjdGlvbiIsImNvbnNvbGUiLCJ3YXJuIiwicmVhY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFBZSxNQUFNQSxJQUFOLElBQWM7QUFDM0IsUUFBTUMsTUFBTSxNQUFNRCxJQUFsQjtBQUNBLE1BQUlDLElBQUlDLFFBQUosRUFBSixFQUFvQixPQUFPRCxJQUFJRSxXQUFKLEVBQVA7QUFDcEJDLFVBQVFDLElBQVIsQ0FBYSx5QkFBYjtBQUNBLFFBQU0sRUFBRUMsUUFBRixLQUFlTCxHQUFyQjtBQUNBLFNBQU9LLFFBQVA7QUFDRCxDIiwiZmlsZSI6InJlc29sdmVSZWFjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2JvdCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIF9jdHggPT4ge1xuICBjb25zdCBjdHggPSBhd2FpdCBfY3R4O1xuICBpZiAoY3R4LnJlc29sdmVkKCkpIHJldHVybiBjdHguZ2V0UmVhY3Rpb24oKTtcbiAgY29uc29sZS53YXJuKCdXQVJOID4+PiBMRUdBQ1kgUkVTT0xWRScpXG4gIGNvbnN0IHsgcmVhY3Rpb24gfSA9IGN0eDtcbiAgcmV0dXJuIHJlYWN0aW9uO1xufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "resolveReaction.js"
      ],
      "names": [
        "_ctx",
        "ctx",
        "resolved",
        "getReaction",
        "console",
        "warn",
        "reaction"
      ],
      "mappings": ";;;;;;kBAAe,MAAMA,IAAN,IAAc;AAC3B,QAAMC,MAAM,MAAMD,IAAlB;AACA,MAAIC,IAAIC,QAAJ,EAAJ,EAAoB,OAAOD,IAAIE,WAAJ,EAAP;AACpBC,UAAQC,IAAR,CAAa,yBAAb;AACA,QAAM,EAAEC,QAAF,KAAeL,GAArB;AACA,SAAOK,QAAP;AACD,C",
      "file": "resolveReaction.js",
      "sourceRoot": "/app/bot",
      "sourcesContent": [
        "export default async _ctx => {\n  const ctx = await _ctx;\n  if (ctx.resolved()) return ctx.getReaction();\n  console.warn('WARN >>> LEGACY RESOLVE')\n  const { reaction } = ctx;\n  return reaction;\n}"
      ]
    },
    "mtime": 1523140562935
  }
}